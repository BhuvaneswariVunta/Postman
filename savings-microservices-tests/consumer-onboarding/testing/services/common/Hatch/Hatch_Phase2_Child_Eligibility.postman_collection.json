{
	"info": {
		"_postman_id": "62916e39-5759-4ae8-b2cf-4ea4908c972b",
		"name": "Hatch_Phase2_Child_Eligibility",
		"description": "Author: Prashant Bhate\n\nThis collection runs end to end journey for selected env via F5",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Failure_Indicator11",
			"item": [
				{
					"name": "302 /personal/logon/login.jsp",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 302\", function () {",
									"    pm.response.to.have.status(302);",
									"});",
									"",
									"pm.test(\"Redirect location is correct\", function () {",
									"   pm.response.to.have.header(\"Location\");",
									"   ",
									"   var _url = require('url')",
									"   var locationHeader = postman.getResponseHeader(\"Location\")",
									"   var url = _url.parse(locationHeader,true)",
									"   ",
									"   pm.environment.set('online_login_url',locationHeader)",
									"   pm.environment.set('online_host',url.hostname)",
									"",
									"});"
								],
								"id": "cbd5ee48-0c0e-4f9e-82e4-af7d1f40edd1"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/logon/login.jsp",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"logon",
								"login.jsp"
							]
						}
					},
					"response": []
				},
				{
					"name": "online /personal/logon/login.jsp",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"const $ = cheerio.load(pm.response.text())\r",
									"\r",
									"\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"it should return a token\", () => { \r",
									"    pm.expect($('input[name=submitToken]').attr(\"value\")).to.not.be.empty\r",
									"    pm.environment.set('submitToken', $('input[name=submitToken]').attr(\"value\"))\r",
									"})\r",
									"\r",
									""
								],
								"id": "13d58db9-2b00-42bc-96dc-01a47679a26d"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{online_login_url}}",
							"host": [
								"{{online_login_url}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "302 /personal/primarylogin",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 302\", function () {",
									"    pm.response.to.have.status(302);",
									"});",
									"",
									"pm.test(\"Redirect location is correct\", function () {",
									"   pm.response.to.have.header(\"Location\");",
									"   ",
									"",
									"   pm.response.to.be.header(\"Location\", \"https://\"+pm.environment.get(\"host\")+\"/personal/login?mobile=false\");",
									"});"
								],
								"id": "28022e48-01a8-47c7-9161-c7f95eec7bd5"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "frmLogin:strCustomerLogin_userID",
									"value": "{{userID_Indicator11}}",
									"type": "text"
								},
								{
									"key": "frmLogin:strCustomerLogin_pwd",
									"value": "{{password}}",
									"type": "text"
								},
								{
									"key": "submitToken",
									"value": "{{submitToken}}",
									"type": "text"
								},
								{
									"key": "target",
									"value": "",
									"type": "text"
								},
								{
									"key": "testenv",
									"value": "https://{{host}}/personal/login",
									"type": "text"
								},
								{
									"key": "hdn_mobile",
									"value": "",
									"type": "text"
								},
								{
									"key": "dclinkjourid",
									"value": "RiVUKTMVBgjg1ESsspdMGq8wZXde08st",
									"type": "text"
								},
								{
									"key": "wup_url",
									"value": "https://wup-karma.lloydsbank.co.uk/client/v3/web/wup?cid=karma",
									"type": "text"
								},
								{
									"key": "hasJS",
									"value": "true",
									"type": "text"
								},
								{
									"key": "frmLogin:btnLogin1",
									"value": "Continue",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "https://{{online_host}}/personal/primarylogin",
							"protocol": "https",
							"host": [
								"{{online_host}}"
							],
							"path": [
								"personal",
								"primarylogin"
							]
						}
					},
					"response": []
				},
				{
					"name": "302 /personal/login?mobile=false",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 302\", function () {",
									"    pm.response.to.have.status(302);",
									"});",
									"",
									"",
									"pm.test(\"Redirect location is correct\", function () {",
									"   pm.response.to.have.header(\"Location\");",
									"   pm.response.to.be.header(\"Location\", \"https://\"+pm.environment.get(\"host\")+\"/personal/a/logon/entermemorableinformation.jsp\");",
									"});"
								],
								"id": "0923027e-28e0-44e3-b2b0-22cd9e28334c"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/login?mobile=false",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"login"
							],
							"query": [
								{
									"key": "mobile",
									"value": "false"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "/personal/a/logon/entermemorableinformation.jsp",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"const $ = cheerio.load(pm.response.text())\r",
									"\r",
									"\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"it should return a token\", () => { \r",
									"    pm.expect($('input[name=submitToken]').attr(\"name\")).to.not.be.empty \r",
									"    pm.environment.set('submitToken', $('input[name=submitToken]').attr(\"value\"))\r",
									"})\r",
									"\r",
									"pm.test(\"it should ask for memorableInfo\", () => {\r",
									"\r",
									"    var passWord = \"t35ting\"; \r",
									"    var passChar; \r",
									"    $(\"select\").each(function (i,elem) {\r",
									"        var num = $(\"label[for='frmentermemorableinformation1:strEnterMemorableInformation_memInfo\" + (i+1) + \"'], label[for= 'frmLogin:strEnterMI\" + (i+1) + \"'] \")\r",
									"        .text().substring(10, 11)\r",
									"        var charVal = parseInt(num); \r",
									"        passChar = passWord.substring(charVal - 1, charVal); \r",
									"        //$(this).val(\" \" + passChar);\r",
									"        console.log(passChar)\r",
									"        pm.environment.set('memorable'+(i+1), passChar)\r",
									"\r",
									"    })\r",
									"})\r",
									"\r",
									"pm.environment.set('clientSysTime', Date.now())\r",
									" "
								],
								"id": "7047ef13-886a-4620-a1dc-9de207601448"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/a/logon/entermemorableinformation.jsp",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"a",
								"logon",
								"entermemorableinformation.jsp"
							]
						}
					},
					"response": []
				},
				{
					"name": "/personal/pageLoad",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"id": "29507c7a-82fc-490d-8d74-cf71c9adf507"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/pageLoad?clientSysTime={{clientSysTime}}",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"pageLoad"
							],
							"query": [
								{
									"key": "clientSysTime",
									"value": "{{clientSysTime}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "302 /personal/a/logon/entermemorableinformation.jsp",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 302\", function () {",
									"    pm.response.to.have.status(302);",
									"});",
									""
								],
								"id": "9c6631a0-12ed-494b-b359-126828a09fd7"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "frmentermemorableinformation1:strEnterMemorableInformation_memInfo1",
									"value": "&nbsp;{{memorable1}}",
									"type": "text"
								},
								{
									"key": "frmentermemorableinformation1:strEnterMemorableInformation_memInfo2",
									"value": "&nbsp;{{memorable2}}",
									"type": "text"
								},
								{
									"key": "frmentermemorableinformation1:strEnterMemorableInformation_memInfo3",
									"value": "&nbsp;{{memorable3}}",
									"type": "text"
								},
								{
									"key": "frmentermemorableinformation1",
									"value": "frmentermemorableinformation1",
									"type": "text"
								},
								{
									"key": "submitToken",
									"value": "{{submitToken}}",
									"type": "text"
								},
								{
									"key": "hasJS",
									"value": "true",
									"type": "text"
								},
								{
									"key": "frmentermemorableinformation1:btnContinue",
									"value": "Continue",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "https://{{host}}/personal/a/logon/entermemorableinformation.jsp",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"a",
								"logon",
								"entermemorableinformation.jsp"
							]
						}
					},
					"response": []
				},
				{
					"name": "/personal/a/account_overview_personal/",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"const $ = cheerio.load(pm.response.text())\r",
									"\r",
									"\r",
									""
								],
								"id": "874860b5-530b-4ff1-873c-66b4050513b8"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/a/account_overview_personal/",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"a",
								"account_overview_personal",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Retail_Identity_Assertion",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Returns saml token\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.samlToken).to.not.be.empty;",
									"    postman.setEnvironmentVariable(\"saml_token\", jsonData.samlToken);",
									"});"
								],
								"id": "09ab3829-2c38-4eef-8ef5-dc13b0759d82"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/common-api/v2/retail-identity-assertion",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"common-api",
								"v2",
								"retail-identity-assertion"
							]
						}
					},
					"response": []
				},
				{
					"name": "Initiate",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"",
									"",
									"pm.test(\"Response body has 3 fields\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(Object.keys(jsonData)).to.eql([ 'id', 'brand', 'channel' ]);",
									"});",
									"",
									"",
									"pm.test(\"Response body has valid brand\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.brand).to.eql(pm.variables.get(\"brand\"));",
									"});",
									"",
									"",
									"pm.test(\"Response body has valid channel\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.channel).to.eql(pm.variables.get(\"channel\"));",
									"});",
									""
								],
								"id": "3e5e875d-a479-43cf-9455-8a8dd286349e"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/{{base_path}}/savings-initiate-service-{{initiate}}/initiate",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"savings-initiate-service-{{initiate}}",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "SSO",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response body has 3 fields\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(Object.keys(jsonData)).to.eql([ 'logoutURL', 'keepAliveURL', 'returnURL' ]);",
									"});",
									"",
									"",
									"pm.test(\"Response body has valid logoutURL\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.logoutURL).to.include(\"/personal/link?Action=autologoff\");",
									"});",
									"",
									"pm.test(\"Response body has valid keepAliveURL\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.keepAliveURL).to.include(\"/personal/common-api/v1/keepAlive\");",
									"});",
									"",
									"pm.test(\"Response body has valid returnURL\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.returnURL).to.include(\"sso\");",
									"});",
									""
								],
								"id": "9ebbd092-0dd8-4220-aa71-682d1dac5d54"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\"samlToken\":\"{{saml_token}}\"\t\n}"
						},
						"url": {
							"raw": "https://{{host}}/{{base_path}}/savings-sso-service-{{sso}}/authenticate",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"savings-sso-service-{{sso}}",
								"authenticate"
							]
						}
					},
					"response": []
				},
				{
					"name": "Parent",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response body has eligibility true\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.isEligible).to.be.equal(true);",
									"});",
									""
								],
								"id": "ebbb99a2-a40a-4141-8bf8-d0033b5a1af1"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"productId\":\"P_HAT_PCA\",\"arrangementType\":\"PCA\"}"
						},
						"url": {
							"raw": "https://{{host}}/{{base_path}}/eligibility-service-{{eligibility}}-{{eligibility}}/product/eligibility/hatch/parent",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"eligibility-service-{{eligibility}}",
								"product",
								"eligibility",
								"hatch",
								"parent"
							]
						}
					},
					"response": []
				},
				{
					"name": "RelationShip ",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"id": "fd0afb71-3396-4757-919e-8d842060afaf"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "SOAPAction",
								"value": ""
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0=",
								"disabled": true
							}
						],
						"url": {
							"raw": "https://{{host}}/{{base_path}}/party-service-{{party}}-{{party}}/adult-child/account/{{SortCode}}{{Account_indicator11}}/relationship",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"party-service-{{party}}",
								"adult-child",
								"account",
								"{{SortCode}}{{Account_indicator11}}",
								"relationship"
							]
						}
					},
					"response": []
				},
				{
					"name": "PostalAddress ",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"id": "b3117541-f0d5-4c8c-b0f7-437c5a159a0d"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "SOAPAction",
								"value": "",
								"disabled": true
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0=",
								"disabled": true
							}
						],
						"url": {
							"raw": "https://{{host}}/{{base_path}}/party-service-{{party}}-{{party}}/party/postal-address",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"party-service-{{party}}",
								"party",
								"postal-address"
							]
						}
					},
					"response": []
				},
				{
					"name": "ChildContact",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "872a35ea-ebf0-43b0-831e-ba0b182a71c8",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "SOAPAction",
								"value": "",
								"disabled": true
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0=",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"emailAddress\":\"a@b.com\",\n\t\"countryPhoneCode\":\"+44\",\n\"mobileNumber\":\"07234567891\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{host}}/{{base_path}}/party-service-{{party}}-{{party}}/child/contacts",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"party-service-{{party}}",
								"child",
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Device",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Response body has id\", function () {",
									"    var jsonData = pm.response.json();",
									" pm.expect(Object.keys(jsonData)).to.eql([ 'id', 'org', 'server' ]);",
									"});"
								],
								"id": "8f223e87-2c4f-4b8b-9629-ef25d560af8d"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "SOAPAction",
								"value": ""
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0=",
								"disabled": true
							}
						],
						"url": {
							"raw": "https://{{host}}/{{base_path}}/eligibility-service-{{eligibility}}-{{eligibility}}/device",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"eligibility-service-{{eligibility}}",
								"device"
							]
						}
					},
					"response": []
				},
				{
					"name": "Child",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Response body has eligibility false\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.isEligible).to.be.equal(false);",
									"});"
								],
								"id": "b169d115-a748-4f4a-8a50-1c475c125c26"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0="
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"productId\":\"P_HAT_PCA\",\"arrangementType\":\"PCA\"}"
						},
						"url": {
							"raw": "https://{{host}}/{{base_path}}/eligibility-service-{{eligibility}}-{{eligibility}}/product/eligibility/hatch/child",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"eligibility-service-{{eligibility}}",
								"product",
								"eligibility",
								"hatch",
								"child"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Failure_Indicator657",
			"item": [
				{
					"name": "302 /personal/logon/login.jsp",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 302\", function () {",
									"    pm.response.to.have.status(302);",
									"});",
									"",
									"pm.test(\"Redirect location is correct\", function () {",
									"   pm.response.to.have.header(\"Location\");",
									"   ",
									"   var _url = require('url')",
									"   var locationHeader = postman.getResponseHeader(\"Location\")",
									"   var url = _url.parse(locationHeader,true)",
									"   ",
									"   pm.environment.set('online_login_url',locationHeader)",
									"   pm.environment.set('online_host',url.hostname)",
									"",
									"});"
								],
								"id": "17071e3b-9915-4132-9f3d-e8d80e83bf63"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/logon/login.jsp",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"logon",
								"login.jsp"
							]
						}
					},
					"response": []
				},
				{
					"name": "online /personal/logon/login.jsp",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"const $ = cheerio.load(pm.response.text())\r",
									"\r",
									"\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"it should return a token\", () => { \r",
									"    pm.expect($('input[name=submitToken]').attr(\"value\")).to.not.be.empty\r",
									"    pm.environment.set('submitToken', $('input[name=submitToken]').attr(\"value\"))\r",
									"})\r",
									"\r",
									""
								],
								"id": "8ea64881-1eb8-4313-a44f-4e920b8dc9fe"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{online_login_url}}",
							"host": [
								"{{online_login_url}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "302 /personal/primarylogin",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 302\", function () {",
									"    pm.response.to.have.status(302);",
									"});",
									"",
									"pm.test(\"Redirect location is correct\", function () {",
									"   pm.response.to.have.header(\"Location\");",
									"   ",
									"",
									"   pm.response.to.be.header(\"Location\", \"https://\"+pm.environment.get(\"host\")+\"/personal/login?mobile=false\");",
									"});"
								],
								"id": "3d7c9383-43ac-47cb-9fd8-ae10e00da3bb"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "frmLogin:strCustomerLogin_userID",
									"value": "{{userID_Indicator657}}",
									"type": "text"
								},
								{
									"key": "frmLogin:strCustomerLogin_pwd",
									"value": "{{password}}",
									"type": "text"
								},
								{
									"key": "submitToken",
									"value": "{{submitToken}}",
									"type": "text"
								},
								{
									"key": "target",
									"value": "",
									"type": "text"
								},
								{
									"key": "testenv",
									"value": "https://{{host}}/personal/login",
									"type": "text"
								},
								{
									"key": "hdn_mobile",
									"value": "",
									"type": "text"
								},
								{
									"key": "dclinkjourid",
									"value": "RiVUKTMVBgjg1ESsspdMGq8wZXde08st",
									"type": "text"
								},
								{
									"key": "wup_url",
									"value": "https://wup-karma.lloydsbank.co.uk/client/v3/web/wup?cid=karma",
									"type": "text"
								},
								{
									"key": "hasJS",
									"value": "true",
									"type": "text"
								},
								{
									"key": "frmLogin:btnLogin1",
									"value": "Continue",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "https://{{online_host}}/personal/primarylogin",
							"protocol": "https",
							"host": [
								"{{online_host}}"
							],
							"path": [
								"personal",
								"primarylogin"
							]
						}
					},
					"response": []
				},
				{
					"name": "302 /personal/login?mobile=false",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 302\", function () {",
									"    pm.response.to.have.status(302);",
									"});",
									"",
									"",
									"pm.test(\"Redirect location is correct\", function () {",
									"   pm.response.to.have.header(\"Location\");",
									"   pm.response.to.be.header(\"Location\", \"https://\"+pm.environment.get(\"host\")+\"/personal/a/logon/entermemorableinformation.jsp\");",
									"});"
								],
								"id": "cf1fe9d5-98e2-48f4-913c-7eafc28c4c58"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/login?mobile=false",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"login"
							],
							"query": [
								{
									"key": "mobile",
									"value": "false"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "/personal/a/logon/entermemorableinformation.jsp",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"const $ = cheerio.load(pm.response.text())\r",
									"\r",
									"\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"it should return a token\", () => { \r",
									"    pm.expect($('input[name=submitToken]').attr(\"name\")).to.not.be.empty \r",
									"    pm.environment.set('submitToken', $('input[name=submitToken]').attr(\"value\"))\r",
									"})\r",
									"\r",
									"pm.test(\"it should ask for memorableInfo\", () => {\r",
									"\r",
									"    var passWord = \"t35ting\"; \r",
									"    var passChar; \r",
									"    $(\"select\").each(function (i,elem) {\r",
									"        var num = $(\"label[for='frmentermemorableinformation1:strEnterMemorableInformation_memInfo\" + (i+1) + \"'], label[for= 'frmLogin:strEnterMI\" + (i+1) + \"'] \")\r",
									"        .text().substring(10, 11)\r",
									"        var charVal = parseInt(num); \r",
									"        passChar = passWord.substring(charVal - 1, charVal); \r",
									"        //$(this).val(\" \" + passChar);\r",
									"        console.log(passChar)\r",
									"        pm.environment.set('memorable'+(i+1), passChar)\r",
									"\r",
									"    })\r",
									"})\r",
									"\r",
									"pm.environment.set('clientSysTime', Date.now())\r",
									" "
								],
								"id": "e3d570bd-9ce5-450e-bacc-6a3fcc8d7b34"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/a/logon/entermemorableinformation.jsp",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"a",
								"logon",
								"entermemorableinformation.jsp"
							]
						}
					},
					"response": []
				},
				{
					"name": "/personal/pageLoad",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"id": "7613b80c-f364-42bd-ae71-7b91d7e23ca3"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/pageLoad?clientSysTime={{clientSysTime}}",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"pageLoad"
							],
							"query": [
								{
									"key": "clientSysTime",
									"value": "{{clientSysTime}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "302 /personal/a/logon/entermemorableinformation.jsp",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 302\", function () {",
									"    pm.response.to.have.status(302);",
									"});",
									""
								],
								"id": "fdd55910-2351-4ce3-90f6-b94fefc89908"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "frmentermemorableinformation1:strEnterMemorableInformation_memInfo1",
									"value": "&nbsp;{{memorable1}}",
									"type": "text"
								},
								{
									"key": "frmentermemorableinformation1:strEnterMemorableInformation_memInfo2",
									"value": "&nbsp;{{memorable2}}",
									"type": "text"
								},
								{
									"key": "frmentermemorableinformation1:strEnterMemorableInformation_memInfo3",
									"value": "&nbsp;{{memorable3}}",
									"type": "text"
								},
								{
									"key": "frmentermemorableinformation1",
									"value": "frmentermemorableinformation1",
									"type": "text"
								},
								{
									"key": "submitToken",
									"value": "{{submitToken}}",
									"type": "text"
								},
								{
									"key": "hasJS",
									"value": "true",
									"type": "text"
								},
								{
									"key": "frmentermemorableinformation1:btnContinue",
									"value": "Continue",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "https://{{host}}/personal/a/logon/entermemorableinformation.jsp",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"a",
								"logon",
								"entermemorableinformation.jsp"
							]
						}
					},
					"response": []
				},
				{
					"name": "/personal/a/account_overview_personal/",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"const $ = cheerio.load(pm.response.text())\r",
									"\r",
									"\r",
									""
								],
								"id": "dffd02bd-ed35-46f0-85d8-821a90afdc77"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/a/account_overview_personal/",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"a",
								"account_overview_personal",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Retail_Identity_Assertion",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Returns saml token\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.samlToken).to.not.be.empty;",
									"    postman.setEnvironmentVariable(\"saml_token\", jsonData.samlToken);",
									"});"
								],
								"id": "c83c8ef7-8fb5-463b-842b-79facbba8cbd"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/common-api/v2/retail-identity-assertion",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"common-api",
								"v2",
								"retail-identity-assertion"
							]
						}
					},
					"response": []
				},
				{
					"name": "Initiate",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"",
									"",
									"pm.test(\"Response body has 3 fields\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(Object.keys(jsonData)).to.eql([ 'id', 'brand', 'channel' ]);",
									"});",
									"",
									"",
									"pm.test(\"Response body has valid brand\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.brand).to.eql(pm.variables.get(\"brand\"));",
									"});",
									"",
									"",
									"pm.test(\"Response body has valid channel\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.channel).to.eql(pm.variables.get(\"channel\"));",
									"});",
									""
								],
								"id": "dcd97825-45bd-4754-b264-0a6dbcf13365"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/{{base_path}}/savings-initiate-service-{{initiate}}/initiate",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"savings-initiate-service-{{initiate}}",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "SSO",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response body has 3 fields\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(Object.keys(jsonData)).to.eql([ 'logoutURL', 'keepAliveURL', 'returnURL' ]);",
									"});",
									"",
									"",
									"pm.test(\"Response body has valid logoutURL\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.logoutURL).to.include(\"/personal/link?Action=autologoff\");",
									"});",
									"",
									"pm.test(\"Response body has valid keepAliveURL\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.keepAliveURL).to.include(\"/personal/common-api/v1/keepAlive\");",
									"});",
									"",
									"pm.test(\"Response body has valid returnURL\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.returnURL).to.include(\"sso\");",
									"});",
									""
								],
								"id": "a4cbed47-2f63-402a-b7d1-214b49363fd0"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\"samlToken\":\"{{saml_token}}\"\t\n}"
						},
						"url": {
							"raw": "https://{{host}}/{{base_path}}/savings-sso-service-{{sso}}/authenticate",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"savings-sso-service-{{sso}}",
								"authenticate"
							]
						}
					},
					"response": []
				},
				{
					"name": "Parent",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response body has eligibility true\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.isEligible).to.be.equal(true);",
									"});",
									""
								],
								"id": "4f5d505c-52d7-4a3b-8a54-52408a6fd5b9"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"productId\":\"P_HAT_PCA\",\"arrangementType\":\"PCA\"}"
						},
						"url": {
							"raw": "https://{{host}}/{{base_path}}/eligibility-service-{{eligibility}}-{{eligibility}}/product/eligibility/hatch/parent",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"eligibility-service-{{eligibility}}",
								"product",
								"eligibility",
								"hatch",
								"parent"
							]
						}
					},
					"response": []
				},
				{
					"name": "RelationShip ",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"id": "9e239548-2856-4bf5-81c5-78808b854ea7"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "SOAPAction",
								"value": ""
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0=",
								"disabled": true
							}
						],
						"url": {
							"raw": "https://{{host}}/{{base_path}}/party-service-{{party}}-{{party}}/adult-child/account/{{SortCode}}{{Account_indicator657}}/relationship",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"party-service-{{party}}",
								"adult-child",
								"account",
								"{{SortCode}}{{Account_indicator657}}",
								"relationship"
							]
						}
					},
					"response": []
				},
				{
					"name": "PostalAddress ",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"id": "626a1259-eec9-4fbd-80f8-cfabb220d53d"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "SOAPAction",
								"value": "",
								"disabled": true
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0=",
								"disabled": true
							}
						],
						"url": {
							"raw": "https://{{host}}/{{base_path}}/party-service-{{party}}-{{party}}/party/postal-address",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"party-service-{{party}}",
								"party",
								"postal-address"
							]
						}
					},
					"response": []
				},
				{
					"name": "ChildContact",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "26dbe1a0-7396-4c4e-b325-c839cb492b4c",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "SOAPAction",
								"value": "",
								"disabled": true
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0=",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"emailAddress\":\"a@b.com\",\n\t\"countryPhoneCode\":\"+44\",\n\"mobileNumber\":\"07234567891\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{host}}/{{base_path}}/party-service-{{party}}-{{party}}/child/contacts",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"party-service-{{party}}",
								"child",
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Device",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Response body has id\", function () {",
									"    var jsonData = pm.response.json();",
									" pm.expect(Object.keys(jsonData)).to.eql([ 'id', 'org', 'server' ]);",
									"});"
								],
								"id": "afa2f882-ed8d-4891-87d4-509153cdd576"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "SOAPAction",
								"value": ""
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0=",
								"disabled": true
							}
						],
						"url": {
							"raw": "https://{{host}}/{{base_path}}/eligibility-service-{{eligibility}}-{{eligibility}}/device",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"eligibility-service-{{eligibility}}",
								"device"
							]
						}
					},
					"response": []
				},
				{
					"name": "Child",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Response body has eligibility false\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.isEligible).to.be.equal(false);",
									"});"
								],
								"id": "8a28d92d-7d6c-4d56-b3ee-570d6757c61c"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0="
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"productId\":\"P_HAT_PCA\",\"arrangementType\":\"PCA\"}"
						},
						"url": {
							"raw": "https://{{host}}/{{base_path}}/eligibility-service-{{eligibility}}-{{eligibility}}/product/eligibility/hatch/child",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"eligibility-service-{{eligibility}}",
								"product",
								"eligibility",
								"hatch",
								"child"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Failure_Indicator13",
			"item": [
				{
					"name": "302 /personal/logon/login.jsp",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 302\", function () {",
									"    pm.response.to.have.status(302);",
									"});",
									"",
									"pm.test(\"Redirect location is correct\", function () {",
									"   pm.response.to.have.header(\"Location\");",
									"   ",
									"   var _url = require('url')",
									"   var locationHeader = postman.getResponseHeader(\"Location\")",
									"   var url = _url.parse(locationHeader,true)",
									"   ",
									"   pm.environment.set('online_login_url',locationHeader)",
									"   pm.environment.set('online_host',url.hostname)",
									"",
									"});"
								],
								"id": "5a9ddcaa-9f0a-4583-9a42-e852cae493a6"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/logon/login.jsp",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"logon",
								"login.jsp"
							]
						}
					},
					"response": []
				},
				{
					"name": "online /personal/logon/login.jsp",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"const $ = cheerio.load(pm.response.text())\r",
									"\r",
									"\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"it should return a token\", () => { \r",
									"    pm.expect($('input[name=submitToken]').attr(\"value\")).to.not.be.empty\r",
									"    pm.environment.set('submitToken', $('input[name=submitToken]').attr(\"value\"))\r",
									"})\r",
									"\r",
									""
								],
								"id": "157e6559-82cd-470f-b248-a4267eb247f5"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{online_login_url}}",
							"host": [
								"{{online_login_url}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "302 /personal/primarylogin",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 302\", function () {",
									"    pm.response.to.have.status(302);",
									"});",
									"",
									"pm.test(\"Redirect location is correct\", function () {",
									"   pm.response.to.have.header(\"Location\");",
									"   ",
									"",
									"   pm.response.to.be.header(\"Location\", \"https://\"+pm.environment.get(\"host\")+\"/personal/login?mobile=false\");",
									"});"
								],
								"id": "9cd776b4-0166-4d61-a476-b391808df586"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "frmLogin:strCustomerLogin_userID",
									"value": "{{userID_Indicator13}}",
									"type": "text"
								},
								{
									"key": "frmLogin:strCustomerLogin_pwd",
									"value": "{{password}}",
									"type": "text"
								},
								{
									"key": "submitToken",
									"value": "{{submitToken}}",
									"type": "text"
								},
								{
									"key": "target",
									"value": "",
									"type": "text"
								},
								{
									"key": "testenv",
									"value": "https://{{host}}/personal/login",
									"type": "text"
								},
								{
									"key": "hdn_mobile",
									"value": "",
									"type": "text"
								},
								{
									"key": "dclinkjourid",
									"value": "RiVUKTMVBgjg1ESsspdMGq8wZXde08st",
									"type": "text"
								},
								{
									"key": "wup_url",
									"value": "https://wup-karma.lloydsbank.co.uk/client/v3/web/wup?cid=karma",
									"type": "text"
								},
								{
									"key": "hasJS",
									"value": "true",
									"type": "text"
								},
								{
									"key": "frmLogin:btnLogin1",
									"value": "Continue",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "https://{{online_host}}/personal/primarylogin",
							"protocol": "https",
							"host": [
								"{{online_host}}"
							],
							"path": [
								"personal",
								"primarylogin"
							]
						}
					},
					"response": []
				},
				{
					"name": "302 /personal/login?mobile=false",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 302\", function () {",
									"    pm.response.to.have.status(302);",
									"});",
									"",
									"",
									"pm.test(\"Redirect location is correct\", function () {",
									"   pm.response.to.have.header(\"Location\");",
									"   pm.response.to.be.header(\"Location\", \"https://\"+pm.environment.get(\"host\")+\"/personal/a/logon/entermemorableinformation.jsp\");",
									"});"
								],
								"id": "5d4781a5-0137-4f85-bb4e-a5d2381eb171"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/login?mobile=false",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"login"
							],
							"query": [
								{
									"key": "mobile",
									"value": "false"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "/personal/a/logon/entermemorableinformation.jsp",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"const $ = cheerio.load(pm.response.text())\r",
									"\r",
									"\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"it should return a token\", () => { \r",
									"    pm.expect($('input[name=submitToken]').attr(\"name\")).to.not.be.empty \r",
									"    pm.environment.set('submitToken', $('input[name=submitToken]').attr(\"value\"))\r",
									"})\r",
									"\r",
									"pm.test(\"it should ask for memorableInfo\", () => {\r",
									"\r",
									"    var passWord = \"t35ting\"; \r",
									"    var passChar; \r",
									"    $(\"select\").each(function (i,elem) {\r",
									"        var num = $(\"label[for='frmentermemorableinformation1:strEnterMemorableInformation_memInfo\" + (i+1) + \"'], label[for= 'frmLogin:strEnterMI\" + (i+1) + \"'] \")\r",
									"        .text().substring(10, 11)\r",
									"        var charVal = parseInt(num); \r",
									"        passChar = passWord.substring(charVal - 1, charVal); \r",
									"        //$(this).val(\" \" + passChar);\r",
									"        console.log(passChar)\r",
									"        pm.environment.set('memorable'+(i+1), passChar)\r",
									"\r",
									"    })\r",
									"})\r",
									"\r",
									"pm.environment.set('clientSysTime', Date.now())\r",
									" "
								],
								"id": "42c364d2-2aaa-46a5-8530-38f8a4cbcea1"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/a/logon/entermemorableinformation.jsp",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"a",
								"logon",
								"entermemorableinformation.jsp"
							]
						}
					},
					"response": []
				},
				{
					"name": "/personal/pageLoad",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"id": "27700efa-82d8-4cb1-ad76-d2e803dbbe1b"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/pageLoad?clientSysTime={{clientSysTime}}",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"pageLoad"
							],
							"query": [
								{
									"key": "clientSysTime",
									"value": "{{clientSysTime}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "302 /personal/a/logon/entermemorableinformation.jsp",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 302\", function () {",
									"    pm.response.to.have.status(302);",
									"});",
									""
								],
								"id": "773ac0b9-44d9-41c3-b5cd-204a6779704d"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "frmentermemorableinformation1:strEnterMemorableInformation_memInfo1",
									"value": "&nbsp;{{memorable1}}",
									"type": "text"
								},
								{
									"key": "frmentermemorableinformation1:strEnterMemorableInformation_memInfo2",
									"value": "&nbsp;{{memorable2}}",
									"type": "text"
								},
								{
									"key": "frmentermemorableinformation1:strEnterMemorableInformation_memInfo3",
									"value": "&nbsp;{{memorable3}}",
									"type": "text"
								},
								{
									"key": "frmentermemorableinformation1",
									"value": "frmentermemorableinformation1",
									"type": "text"
								},
								{
									"key": "submitToken",
									"value": "{{submitToken}}",
									"type": "text"
								},
								{
									"key": "hasJS",
									"value": "true",
									"type": "text"
								},
								{
									"key": "frmentermemorableinformation1:btnContinue",
									"value": "Continue",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "https://{{host}}/personal/a/logon/entermemorableinformation.jsp",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"a",
								"logon",
								"entermemorableinformation.jsp"
							]
						}
					},
					"response": []
				},
				{
					"name": "/personal/a/account_overview_personal/",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"const $ = cheerio.load(pm.response.text())\r",
									"\r",
									"\r",
									""
								],
								"id": "09108cff-5de1-469e-a1ac-f91c6fce4a57"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/a/account_overview_personal/",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"a",
								"account_overview_personal",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Retail_Identity_Assertion",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Returns saml token\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.samlToken).to.not.be.empty;",
									"    postman.setEnvironmentVariable(\"saml_token\", jsonData.samlToken);",
									"});"
								],
								"id": "cf8aec7c-f171-42ac-9cd1-cd7679312ed9"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/common-api/v2/retail-identity-assertion",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"common-api",
								"v2",
								"retail-identity-assertion"
							]
						}
					},
					"response": []
				},
				{
					"name": "Initiate",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"",
									"",
									"pm.test(\"Response body has 3 fields\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(Object.keys(jsonData)).to.eql([ 'id', 'brand', 'channel' ]);",
									"});",
									"",
									"",
									"pm.test(\"Response body has valid brand\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.brand).to.eql(pm.variables.get(\"brand\"));",
									"});",
									"",
									"",
									"pm.test(\"Response body has valid channel\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.channel).to.eql(pm.variables.get(\"channel\"));",
									"});",
									""
								],
								"id": "a12799f2-33a2-4f48-bb9e-5cce5fdf1f26"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/{{base_path}}/savings-initiate-service-{{initiate}}/initiate",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"savings-initiate-service-{{initiate}}",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "SSO",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response body has 3 fields\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(Object.keys(jsonData)).to.eql([ 'logoutURL', 'keepAliveURL', 'returnURL' ]);",
									"});",
									"",
									"",
									"pm.test(\"Response body has valid logoutURL\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.logoutURL).to.include(\"/personal/link?Action=autologoff\");",
									"});",
									"",
									"pm.test(\"Response body has valid keepAliveURL\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.keepAliveURL).to.include(\"/personal/common-api/v1/keepAlive\");",
									"});",
									"",
									"pm.test(\"Response body has valid returnURL\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.returnURL).to.include(\"sso\");",
									"});",
									""
								],
								"id": "2107d24d-9c5a-433b-a798-06aacbcc24a4"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\"samlToken\":\"{{saml_token}}\"\t\n}"
						},
						"url": {
							"raw": "https://{{host}}/{{base_path}}/savings-sso-service-{{sso}}/authenticate",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"savings-sso-service-{{sso}}",
								"authenticate"
							]
						}
					},
					"response": []
				},
				{
					"name": "Parent",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response body has eligibility true\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.isEligible).to.be.equal(true);",
									"});",
									""
								],
								"id": "98d0a7d4-96d9-41dd-9789-32dba956c08b"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"productId\":\"P_HAT_PCA\",\"arrangementType\":\"PCA\"}"
						},
						"url": {
							"raw": "https://{{host}}/{{base_path}}/eligibility-service-{{eligibility}}-{{eligibility}}/product/eligibility/hatch/parent",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"eligibility-service-{{eligibility}}",
								"product",
								"eligibility",
								"hatch",
								"parent"
							]
						}
					},
					"response": []
				},
				{
					"name": "RelationShip ",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"id": "a43b5132-aa2b-4a86-a1b7-06b6808aa853"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "SOAPAction",
								"value": ""
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0=",
								"disabled": true
							}
						],
						"url": {
							"raw": "https://{{host}}/{{base_path}}/party-service-{{party}}-{{party}}/adult-child/account/{{SortCode}}{{Account_indicator13}}/relationship",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"party-service-{{party}}",
								"adult-child",
								"account",
								"{{SortCode}}{{Account_indicator13}}",
								"relationship"
							]
						}
					},
					"response": []
				},
				{
					"name": "PostalAddress ",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"id": "a5dc5816-78d8-4d65-b31a-0381e87ecadc"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "SOAPAction",
								"value": "",
								"disabled": true
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0=",
								"disabled": true
							}
						],
						"url": {
							"raw": "https://{{host}}/{{base_path}}/party-service-{{party}}-{{party}}/party/postal-address",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"party-service-{{party}}",
								"party",
								"postal-address"
							]
						}
					},
					"response": []
				},
				{
					"name": "ChildContact",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "3d0d2674-a19b-4f54-86e5-44f78056bbdc",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "SOAPAction",
								"value": "",
								"disabled": true
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0=",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"emailAddress\":\"a@b.com\",\n\t\"countryPhoneCode\":\"+44\",\n\"mobileNumber\":\"07234567891\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{host}}/{{base_path}}/party-service-{{party}}-{{party}}/child/contacts",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"party-service-{{party}}",
								"child",
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Device",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Response body has id\", function () {",
									"    var jsonData = pm.response.json();",
									" pm.expect(Object.keys(jsonData)).to.eql([ 'id', 'org', 'server' ]);",
									"});"
								],
								"id": "1a12616c-368b-4370-a6b1-3def68e6a263"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "SOAPAction",
								"value": ""
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0=",
								"disabled": true
							}
						],
						"url": {
							"raw": "https://{{host}}/{{base_path}}/eligibility-service-{{eligibility}}-{{eligibility}}/device",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"eligibility-service-{{eligibility}}",
								"device"
							]
						}
					},
					"response": []
				},
				{
					"name": "Child",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Response body has eligibility false\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.isEligible).to.be.equal(false);",
									"});"
								],
								"id": "2eb62157-d5c0-4883-a027-c367ac5729b9"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0="
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"productId\":\"P_HAT_PCA\",\"arrangementType\":\"PCA\"}"
						},
						"url": {
							"raw": "https://{{host}}/{{base_path}}/eligibility-service-{{eligibility}}-{{eligibility}}/product/eligibility/hatch/child",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"eligibility-service-{{eligibility}}",
								"product",
								"eligibility",
								"hatch",
								"child"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "AgeLessThan11",
			"item": [
				{
					"name": "302 /personal/logon/login.jsp",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 302\", function () {",
									"    pm.response.to.have.status(302);",
									"});",
									"",
									"pm.test(\"Redirect location is correct\", function () {",
									"   pm.response.to.have.header(\"Location\");",
									"   ",
									"   var _url = require('url')",
									"   var locationHeader = postman.getResponseHeader(\"Location\")",
									"   var url = _url.parse(locationHeader,true)",
									"   ",
									"   pm.environment.set('online_login_url',locationHeader)",
									"   pm.environment.set('online_host',url.hostname)",
									"",
									"});"
								],
								"id": "6db7b72a-5f94-4926-8fcd-c0f83ca23e79"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/logon/login.jsp",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"logon",
								"login.jsp"
							]
						}
					},
					"response": []
				},
				{
					"name": "online /personal/logon/login.jsp",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"const $ = cheerio.load(pm.response.text())\r",
									"\r",
									"\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"it should return a token\", () => { \r",
									"    pm.expect($('input[name=submitToken]').attr(\"value\")).to.not.be.empty\r",
									"    pm.environment.set('submitToken', $('input[name=submitToken]').attr(\"value\"))\r",
									"})\r",
									"\r",
									""
								],
								"id": "feac119f-f640-4d1f-bbce-c42f33d4ede8"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{online_login_url}}",
							"host": [
								"{{online_login_url}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "302 /personal/primarylogin",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 302\", function () {",
									"    pm.response.to.have.status(302);",
									"});",
									"",
									"pm.test(\"Redirect location is correct\", function () {",
									"   pm.response.to.have.header(\"Location\");",
									"   ",
									"",
									"   pm.response.to.be.header(\"Location\", \"https://\"+pm.environment.get(\"host\")+\"/personal/login?mobile=false\");",
									"});"
								],
								"id": "3c22b5ee-3973-4dbe-b834-5aebd7f0465f"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "frmLogin:strCustomerLogin_userID",
									"value": "{{userID_AgeLessThan11Child}}",
									"type": "text"
								},
								{
									"key": "frmLogin:strCustomerLogin_pwd",
									"value": "{{password}}",
									"type": "text"
								},
								{
									"key": "submitToken",
									"value": "{{submitToken}}",
									"type": "text"
								},
								{
									"key": "target",
									"value": "",
									"type": "text"
								},
								{
									"key": "testenv",
									"value": "https://{{host}}/personal/login",
									"type": "text"
								},
								{
									"key": "hdn_mobile",
									"value": "",
									"type": "text"
								},
								{
									"key": "dclinkjourid",
									"value": "RiVUKTMVBgjg1ESsspdMGq8wZXde08st",
									"type": "text"
								},
								{
									"key": "wup_url",
									"value": "https://wup-karma.lloydsbank.co.uk/client/v3/web/wup?cid=karma",
									"type": "text"
								},
								{
									"key": "hasJS",
									"value": "true",
									"type": "text"
								},
								{
									"key": "frmLogin:btnLogin1",
									"value": "Continue",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "https://{{online_host}}/personal/primarylogin",
							"protocol": "https",
							"host": [
								"{{online_host}}"
							],
							"path": [
								"personal",
								"primarylogin"
							]
						}
					},
					"response": []
				},
				{
					"name": "302 /personal/login?mobile=false",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 302\", function () {",
									"    pm.response.to.have.status(302);",
									"});",
									"",
									"",
									"pm.test(\"Redirect location is correct\", function () {",
									"   pm.response.to.have.header(\"Location\");",
									"   pm.response.to.be.header(\"Location\", \"https://\"+pm.environment.get(\"host\")+\"/personal/a/logon/entermemorableinformation.jsp\");",
									"});"
								],
								"id": "a1edf368-d4cb-4958-b110-af2cbfeb02d2"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/login?mobile=false",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"login"
							],
							"query": [
								{
									"key": "mobile",
									"value": "false"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "/personal/a/logon/entermemorableinformation.jsp",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"const $ = cheerio.load(pm.response.text())\r",
									"\r",
									"\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"it should return a token\", () => { \r",
									"    pm.expect($('input[name=submitToken]').attr(\"name\")).to.not.be.empty \r",
									"    pm.environment.set('submitToken', $('input[name=submitToken]').attr(\"value\"))\r",
									"})\r",
									"\r",
									"pm.test(\"it should ask for memorableInfo\", () => {\r",
									"\r",
									"    var passWord = \"t35ting\"; \r",
									"    var passChar; \r",
									"    $(\"select\").each(function (i,elem) {\r",
									"        var num = $(\"label[for='frmentermemorableinformation1:strEnterMemorableInformation_memInfo\" + (i+1) + \"'], label[for= 'frmLogin:strEnterMI\" + (i+1) + \"'] \")\r",
									"        .text().substring(10, 11)\r",
									"        var charVal = parseInt(num); \r",
									"        passChar = passWord.substring(charVal - 1, charVal); \r",
									"        //$(this).val(\" \" + passChar);\r",
									"        console.log(passChar)\r",
									"        pm.environment.set('memorable'+(i+1), passChar)\r",
									"\r",
									"    })\r",
									"})\r",
									"\r",
									"pm.environment.set('clientSysTime', Date.now())\r",
									" "
								],
								"id": "26e6254c-5800-4108-8d60-6755ae8b6964"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/a/logon/entermemorableinformation.jsp",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"a",
								"logon",
								"entermemorableinformation.jsp"
							]
						}
					},
					"response": []
				},
				{
					"name": "/personal/pageLoad",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"id": "5b03b669-49ec-472d-b031-98a276855f35"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/pageLoad?clientSysTime={{clientSysTime}}",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"pageLoad"
							],
							"query": [
								{
									"key": "clientSysTime",
									"value": "{{clientSysTime}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "302 /personal/a/logon/entermemorableinformation.jsp",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 302\", function () {",
									"    pm.response.to.have.status(302);",
									"});",
									""
								],
								"id": "02afabb6-1012-4c49-b0bc-e6ef21144ca5"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "frmentermemorableinformation1:strEnterMemorableInformation_memInfo1",
									"value": "&nbsp;{{memorable1}}",
									"type": "text"
								},
								{
									"key": "frmentermemorableinformation1:strEnterMemorableInformation_memInfo2",
									"value": "&nbsp;{{memorable2}}",
									"type": "text"
								},
								{
									"key": "frmentermemorableinformation1:strEnterMemorableInformation_memInfo3",
									"value": "&nbsp;{{memorable3}}",
									"type": "text"
								},
								{
									"key": "frmentermemorableinformation1",
									"value": "frmentermemorableinformation1",
									"type": "text"
								},
								{
									"key": "submitToken",
									"value": "{{submitToken}}",
									"type": "text"
								},
								{
									"key": "hasJS",
									"value": "true",
									"type": "text"
								},
								{
									"key": "frmentermemorableinformation1:btnContinue",
									"value": "Continue",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "https://{{host}}/personal/a/logon/entermemorableinformation.jsp",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"a",
								"logon",
								"entermemorableinformation.jsp"
							]
						}
					},
					"response": []
				},
				{
					"name": "/personal/a/account_overview_personal/",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"const $ = cheerio.load(pm.response.text())\r",
									"\r",
									"\r",
									""
								],
								"id": "dd8aef1e-a685-45a1-9f73-01214921b4eb"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/a/account_overview_personal/",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"a",
								"account_overview_personal",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Retail_Identity_Assertion",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Returns saml token\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.samlToken).to.not.be.empty;",
									"    postman.setEnvironmentVariable(\"saml_token\", jsonData.samlToken);",
									"});"
								],
								"id": "77b92ee0-bb96-47fc-a947-d4478b82d457"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/common-api/v2/retail-identity-assertion",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"common-api",
								"v2",
								"retail-identity-assertion"
							]
						}
					},
					"response": []
				},
				{
					"name": "Initiate",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"",
									"",
									"pm.test(\"Response body has 3 fields\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(Object.keys(jsonData)).to.eql([ 'id', 'brand', 'channel' ]);",
									"});",
									"",
									"",
									"pm.test(\"Response body has valid brand\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.brand).to.eql(pm.variables.get(\"brand\"));",
									"});",
									"",
									"",
									"pm.test(\"Response body has valid channel\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.channel).to.eql(pm.variables.get(\"channel\"));",
									"});",
									""
								],
								"id": "869c4d10-3762-4d39-9396-caf192981138"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/{{base_path}}/savings-initiate-service-{{initiate}}/initiate",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"savings-initiate-service-{{initiate}}",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "SSO",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response body has 3 fields\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(Object.keys(jsonData)).to.eql([ 'logoutURL', 'keepAliveURL', 'returnURL' ]);",
									"});",
									"",
									"",
									"pm.test(\"Response body has valid logoutURL\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.logoutURL).to.include(\"/personal/link?Action=autologoff\");",
									"});",
									"",
									"pm.test(\"Response body has valid keepAliveURL\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.keepAliveURL).to.include(\"/personal/common-api/v1/keepAlive\");",
									"});",
									"",
									"pm.test(\"Response body has valid returnURL\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.returnURL).to.include(\"sso\");",
									"});",
									""
								],
								"id": "97c02d6e-5571-4a85-bd4d-b2862e8bd3f2"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\"samlToken\":\"{{saml_token}}\"\t\n}"
						},
						"url": {
							"raw": "https://{{host}}/{{base_path}}/savings-sso-service-v2/authenticate",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"savings-sso-service-{{sso}}",
								"authenticate"
							]
						}
					},
					"response": []
				},
				{
					"name": "Parent",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response body has eligibility true\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.isEligible).to.be.equal(true);",
									"});",
									""
								],
								"id": "c890497d-db28-4d76-9c16-aa64c9e5e190"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"productId\":\"P_HAT_PCA\",\"arrangementType\":\"PCA\"}"
						},
						"url": {
							"raw": "https://{{host}}/{{base_path}}/eligibility-service-{{eligibility}}-{{eligibility}}/product/eligibility/hatch/parent",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"eligibility-service-{{eligibility}}",
								"product",
								"eligibility",
								"hatch",
								"parent"
							]
						}
					},
					"response": []
				},
				{
					"name": "RelationShip ",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"id": "7cbfcc47-2e13-49d8-bc9f-b30d156d0d0c"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "SOAPAction",
								"value": ""
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0=",
								"disabled": true
							}
						],
						"url": {
							"raw": "https://{{host}}/{{base_path}}/party-service-{{party}}-{{party}}/adult-child/account/{{SortCode}}{{Account_Agelessthan11}}/relationship",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"party-service-{{party}}",
								"adult-child",
								"account",
								"{{SortCode}}{{Account_Agelessthan11}}",
								"relationship"
							]
						}
					},
					"response": []
				},
				{
					"name": "PostalAddress ",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"id": "11c47666-c779-4721-9e62-a17f217f433b"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "SOAPAction",
								"value": "",
								"disabled": true
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0=",
								"disabled": true
							}
						],
						"url": {
							"raw": "https://{{host}}/{{base_path}}/party-service-{{party}}-{{party}}/party/postal-address",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"party-service-{{party}}",
								"party",
								"postal-address"
							]
						}
					},
					"response": []
				},
				{
					"name": "ChildContact",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "de540660-cbae-446b-970b-b5f4c1fd0701",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "SOAPAction",
								"value": "",
								"disabled": true
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0=",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"emailAddress\":\"a@b.com\",\n\t\"countryPhoneCode\":\"+44\",\n\"mobileNumber\":\"07234567891\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{host}}/{{base_path}}/party-service-{{party}}-{{party}}/child/contacts",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"party-service-{{party}}",
								"child",
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Device",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Response body has id\", function () {",
									"    var jsonData = pm.response.json();",
									" pm.expect(Object.keys(jsonData)).to.eql([ 'id', 'org', 'server' ]);",
									"});"
								],
								"id": "92498133-d65f-479f-80e2-61bd8541fdb7"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "SOAPAction",
								"value": ""
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0=",
								"disabled": true
							}
						],
						"url": {
							"raw": "https://{{host}}/{{base_path}}/eligibility-service-{{eligibility}}-{{eligibility}}/device",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"eligibility-service-{{eligibility}}",
								"device"
							]
						}
					},
					"response": []
				},
				{
					"name": "Child",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Response body has eligibility false\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.isEligible).to.be.equal(false);",
									"});"
								],
								"id": "43c26380-a2b0-4587-a594-669171bea38a"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0="
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"productId\":\"P_HAT_PCA\",\"arrangementType\":\"PCA\"}"
						},
						"url": {
							"raw": "https://{{host}}/{{base_path}}/eligibility-service-{{eligibility}}-{{eligibility}}/product/eligibility/hatch/child",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"eligibility-service-{{eligibility}}",
								"product",
								"eligibility",
								"hatch",
								"child"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "AgeGreaterThan16",
			"item": [
				{
					"name": "302 /personal/logon/login.jsp",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 302\", function () {",
									"    pm.response.to.have.status(302);",
									"});",
									"",
									"pm.test(\"Redirect location is correct\", function () {",
									"   pm.response.to.have.header(\"Location\");",
									"   ",
									"   var _url = require('url')",
									"   var locationHeader = postman.getResponseHeader(\"Location\")",
									"   var url = _url.parse(locationHeader,true)",
									"   ",
									"   pm.environment.set('online_login_url',locationHeader)",
									"   pm.environment.set('online_host',url.hostname)",
									"",
									"});"
								],
								"id": "13284263-bca8-4f3a-80ae-dca2b28bfdf7"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/logon/login.jsp",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"logon",
								"login.jsp"
							]
						}
					},
					"response": []
				},
				{
					"name": "online /personal/logon/login.jsp",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"const $ = cheerio.load(pm.response.text())\r",
									"\r",
									"\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"it should return a token\", () => { \r",
									"    pm.expect($('input[name=submitToken]').attr(\"value\")).to.not.be.empty\r",
									"    pm.environment.set('submitToken', $('input[name=submitToken]').attr(\"value\"))\r",
									"})\r",
									"\r",
									""
								],
								"id": "acc03717-a292-4236-91b9-6f5fbc4af0e3"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{online_login_url}}",
							"host": [
								"{{online_login_url}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "302 /personal/primarylogin",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 302\", function () {",
									"    pm.response.to.have.status(302);",
									"});",
									"",
									"pm.test(\"Redirect location is correct\", function () {",
									"   pm.response.to.have.header(\"Location\");",
									"   ",
									"",
									"   pm.response.to.be.header(\"Location\", \"https://\"+pm.environment.get(\"host\")+\"/personal/login?mobile=false\");",
									"});"
								],
								"id": "ac696cb6-a276-4d05-a25e-b43287bd370f"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "frmLogin:strCustomerLogin_userID",
									"value": "{{userID_AgeGreater16}}",
									"type": "text"
								},
								{
									"key": "frmLogin:strCustomerLogin_pwd",
									"value": "{{password}}",
									"type": "text"
								},
								{
									"key": "submitToken",
									"value": "{{submitToken}}",
									"type": "text"
								},
								{
									"key": "target",
									"value": "",
									"type": "text"
								},
								{
									"key": "testenv",
									"value": "https://{{host}}/personal/login",
									"type": "text"
								},
								{
									"key": "hdn_mobile",
									"value": "",
									"type": "text"
								},
								{
									"key": "dclinkjourid",
									"value": "RiVUKTMVBgjg1ESsspdMGq8wZXde08st",
									"type": "text"
								},
								{
									"key": "wup_url",
									"value": "https://wup-karma.lloydsbank.co.uk/client/v3/web/wup?cid=karma",
									"type": "text"
								},
								{
									"key": "hasJS",
									"value": "true",
									"type": "text"
								},
								{
									"key": "frmLogin:btnLogin1",
									"value": "Continue",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "https://{{online_host}}/personal/primarylogin",
							"protocol": "https",
							"host": [
								"{{online_host}}"
							],
							"path": [
								"personal",
								"primarylogin"
							]
						}
					},
					"response": []
				},
				{
					"name": "302 /personal/login?mobile=false",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 302\", function () {",
									"    pm.response.to.have.status(302);",
									"});",
									"",
									"",
									"pm.test(\"Redirect location is correct\", function () {",
									"   pm.response.to.have.header(\"Location\");",
									"   pm.response.to.be.header(\"Location\", \"https://\"+pm.environment.get(\"host\")+\"/personal/a/logon/entermemorableinformation.jsp\");",
									"});"
								],
								"id": "688a6f19-2d6d-41b2-b751-b8d5c1c3ebab"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/login?mobile=false",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"login"
							],
							"query": [
								{
									"key": "mobile",
									"value": "false"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "/personal/a/logon/entermemorableinformation.jsp",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"const $ = cheerio.load(pm.response.text())\r",
									"\r",
									"\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"it should return a token\", () => { \r",
									"    pm.expect($('input[name=submitToken]').attr(\"name\")).to.not.be.empty \r",
									"    pm.environment.set('submitToken', $('input[name=submitToken]').attr(\"value\"))\r",
									"})\r",
									"\r",
									"pm.test(\"it should ask for memorableInfo\", () => {\r",
									"\r",
									"    var passWord = \"t35ting\"; \r",
									"    var passChar; \r",
									"    $(\"select\").each(function (i,elem) {\r",
									"        var num = $(\"label[for='frmentermemorableinformation1:strEnterMemorableInformation_memInfo\" + (i+1) + \"'], label[for= 'frmLogin:strEnterMI\" + (i+1) + \"'] \")\r",
									"        .text().substring(10, 11)\r",
									"        var charVal = parseInt(num); \r",
									"        passChar = passWord.substring(charVal - 1, charVal); \r",
									"        //$(this).val(\" \" + passChar);\r",
									"        console.log(passChar)\r",
									"        pm.environment.set('memorable'+(i+1), passChar)\r",
									"\r",
									"    })\r",
									"})\r",
									"\r",
									"pm.environment.set('clientSysTime', Date.now())\r",
									" "
								],
								"id": "8368ebae-7a8c-4ca5-a37d-7bb3a7e3182b"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/a/logon/entermemorableinformation.jsp",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"a",
								"logon",
								"entermemorableinformation.jsp"
							]
						}
					},
					"response": []
				},
				{
					"name": "/personal/pageLoad",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"id": "077bf5b1-4253-4e78-8e74-423a4635a6ea"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/pageLoad?clientSysTime={{clientSysTime}}",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"pageLoad"
							],
							"query": [
								{
									"key": "clientSysTime",
									"value": "{{clientSysTime}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "302 /personal/a/logon/entermemorableinformation.jsp",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 302\", function () {",
									"    pm.response.to.have.status(302);",
									"});",
									""
								],
								"id": "2b78219e-2f24-4d8b-a25f-600a8d9b0301"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "frmentermemorableinformation1:strEnterMemorableInformation_memInfo1",
									"value": "&nbsp;{{memorable1}}",
									"type": "text"
								},
								{
									"key": "frmentermemorableinformation1:strEnterMemorableInformation_memInfo2",
									"value": "&nbsp;{{memorable2}}",
									"type": "text"
								},
								{
									"key": "frmentermemorableinformation1:strEnterMemorableInformation_memInfo3",
									"value": "&nbsp;{{memorable3}}",
									"type": "text"
								},
								{
									"key": "frmentermemorableinformation1",
									"value": "frmentermemorableinformation1",
									"type": "text"
								},
								{
									"key": "submitToken",
									"value": "{{submitToken}}",
									"type": "text"
								},
								{
									"key": "hasJS",
									"value": "true",
									"type": "text"
								},
								{
									"key": "frmentermemorableinformation1:btnContinue",
									"value": "Continue",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "https://{{host}}/personal/a/logon/entermemorableinformation.jsp",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"a",
								"logon",
								"entermemorableinformation.jsp"
							]
						}
					},
					"response": []
				},
				{
					"name": "/personal/a/account_overview_personal/",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"const $ = cheerio.load(pm.response.text())\r",
									"\r",
									"\r",
									""
								],
								"id": "01ddfab5-8734-48a9-9ef0-7540d924e92b"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/a/account_overview_personal/",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"a",
								"account_overview_personal",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Retail_Identity_Assertion",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Returns saml token\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.samlToken).to.not.be.empty;",
									"    postman.setEnvironmentVariable(\"saml_token\", jsonData.samlToken);",
									"});"
								],
								"id": "f9bf7a26-a4d8-4147-bdcf-f8572df009cd"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/common-api/v2/retail-identity-assertion",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"common-api",
								"v2",
								"retail-identity-assertion"
							]
						}
					},
					"response": []
				},
				{
					"name": "Initiate",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"",
									"",
									"pm.test(\"Response body has 3 fields\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(Object.keys(jsonData)).to.eql([ 'id', 'brand', 'channel' ]);",
									"});",
									"",
									"",
									"pm.test(\"Response body has valid brand\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.brand).to.eql(pm.variables.get(\"brand\"));",
									"});",
									"",
									"",
									"pm.test(\"Response body has valid channel\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.channel).to.eql(pm.variables.get(\"channel\"));",
									"});",
									""
								],
								"id": "90374050-3064-4940-8f93-81f162488deb"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/{{base_path}}/savings-initiate-service-{{initiate}}/initiate",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"savings-initiate-service-{{initiate}}",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "SSO",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response body has 3 fields\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(Object.keys(jsonData)).to.eql([ 'logoutURL', 'keepAliveURL', 'returnURL' ]);",
									"});",
									"",
									"",
									"pm.test(\"Response body has valid logoutURL\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.logoutURL).to.include(\"/personal/link?Action=autologoff\");",
									"});",
									"",
									"pm.test(\"Response body has valid keepAliveURL\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.keepAliveURL).to.include(\"/personal/common-api/v1/keepAlive\");",
									"});",
									"",
									"pm.test(\"Response body has valid returnURL\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.returnURL).to.include(\"sso\");",
									"});",
									""
								],
								"id": "bccebc67-8775-489b-9aa3-8b6124968cf2"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\"samlToken\":\"{{saml_token}}\"\t\n}"
						},
						"url": {
							"raw": "https://{{host}}/{{base_path}}/savings-sso-service-{{sso}}/authenticate",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"savings-sso-service-{{sso}}",
								"authenticate"
							]
						}
					},
					"response": []
				},
				{
					"name": "Parent",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response body has eligibility true\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.isEligible).to.be.equal(true);",
									"});",
									""
								],
								"id": "0540d0d2-f101-4add-b4be-e38661dea9ef"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"productId\":\"P_HAT_PCA\",\"arrangementType\":\"PCA\"}"
						},
						"url": {
							"raw": "https://{{host}}/{{base_path}}/eligibility-service-{{eligibility}}-{{eligibility}}/product/eligibility/hatch/parent",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"eligibility-service-{{eligibility}}",
								"product",
								"eligibility",
								"hatch",
								"parent"
							]
						}
					},
					"response": []
				},
				{
					"name": "RelationShip ",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"id": "56327b06-26a1-4862-be26-ec60a6e41c76"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "SOAPAction",
								"value": ""
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0=",
								"disabled": true
							}
						],
						"url": {
							"raw": "https://{{host}}/{{base_path}}/party-service-{{party}}-{{party}}/adult-child/account/{{SortCode}}{{Account_AgeGreater16}}/relationship",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"party-service-{{party}}",
								"adult-child",
								"account",
								"{{SortCode}}{{Account_AgeGreater16}}",
								"relationship"
							]
						}
					},
					"response": []
				},
				{
					"name": "PostalAddress ",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"id": "87e43fba-e6f0-4784-8903-fcc7a1355a21"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "SOAPAction",
								"value": "",
								"disabled": true
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0=",
								"disabled": true
							}
						],
						"url": {
							"raw": "https://{{host}}/{{base_path}}/party-service-{{party}}-{{party}}/party/postal-address",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"party-service-{{party}}",
								"party",
								"postal-address"
							]
						}
					},
					"response": []
				},
				{
					"name": "ChildContact",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "1a1c6611-f16b-43ef-8755-50ce7f3ad4e3",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "SOAPAction",
								"value": "",
								"disabled": true
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0=",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"emailAddress\":\"a@b.com\",\n\t\"countryPhoneCode\":\"+44\",\n\"mobileNumber\":\"07234567891\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{host}}/{{base_path}}/party-service-{{party}}-{{party}}/child/contacts",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"party-service-{{party}}",
								"child",
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Device",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Response body has id\", function () {",
									"    var jsonData = pm.response.json();",
									" pm.expect(Object.keys(jsonData)).to.eql([ 'id', 'org', 'server' ]);",
									"});"
								],
								"id": "360af4f0-5769-4916-a157-e4259daef29e"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "SOAPAction",
								"value": ""
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0=",
								"disabled": true
							}
						],
						"url": {
							"raw": "https://{{host}}/{{base_path}}/eligibility-service-{{eligibility}}-{{eligibility}}/device",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"eligibility-service-{{eligibility}}",
								"device"
							]
						}
					},
					"response": []
				},
				{
					"name": "Child",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Response body has eligibility false\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.isEligible).to.be.equal(false);",
									"});"
								],
								"id": "8047cc37-5512-4033-b876-bf760fdd23f8"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0="
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"productId\":\"P_HAT_PCA\",\"arrangementType\":\"PCA\"}"
						},
						"url": {
							"raw": "https://{{host}}/{{base_path}}/eligibility-service-{{eligibility}}-{{eligibility}}/product/eligibility/hatch/child",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"eligibility-service-{{eligibility}}",
								"product",
								"eligibility",
								"hatch",
								"child"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "FraudCheck_Decline",
			"item": [
				{
					"name": "302 /personal/logon/login.jsp",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 302\", function () {",
									"    pm.response.to.have.status(302);",
									"});",
									"",
									"pm.test(\"Redirect location is correct\", function () {",
									"   pm.response.to.have.header(\"Location\");",
									"   ",
									"   var _url = require('url')",
									"   var locationHeader = postman.getResponseHeader(\"Location\")",
									"   var url = _url.parse(locationHeader,true)",
									"   ",
									"   pm.environment.set('online_login_url',locationHeader)",
									"   pm.environment.set('online_host',url.hostname)",
									"",
									"});"
								],
								"id": "1706553a-099f-48db-846c-457b65759730"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/logon/login.jsp",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"logon",
								"login.jsp"
							]
						}
					},
					"response": []
				},
				{
					"name": "online /personal/logon/login.jsp",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"const $ = cheerio.load(pm.response.text())\r",
									"\r",
									"\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"it should return a token\", () => { \r",
									"    pm.expect($('input[name=submitToken]').attr(\"value\")).to.not.be.empty\r",
									"    pm.environment.set('submitToken', $('input[name=submitToken]').attr(\"value\"))\r",
									"})\r",
									"\r",
									""
								],
								"id": "71bb1e2c-979b-46ff-9c7f-d848c456515b"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{online_login_url}}",
							"host": [
								"{{online_login_url}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "302 /personal/primarylogin",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 302\", function () {",
									"    pm.response.to.have.status(302);",
									"});",
									"",
									"pm.test(\"Redirect location is correct\", function () {",
									"   pm.response.to.have.header(\"Location\");",
									"   ",
									"",
									"   pm.response.to.be.header(\"Location\", \"https://\"+pm.environment.get(\"host\")+\"/personal/login?mobile=false\");",
									"});"
								],
								"id": "b888552e-25d9-4f59-b584-93c10c09ccb2"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "frmLogin:strCustomerLogin_userID",
									"value": "{{UserID_Fraud}}",
									"type": "text"
								},
								{
									"key": "frmLogin:strCustomerLogin_pwd",
									"value": "{{password}}",
									"type": "text"
								},
								{
									"key": "submitToken",
									"value": "{{submitToken}}",
									"type": "text"
								},
								{
									"key": "target",
									"value": "",
									"type": "text"
								},
								{
									"key": "testenv",
									"value": "https://{{host}}/personal/login",
									"type": "text"
								},
								{
									"key": "hdn_mobile",
									"value": "",
									"type": "text"
								},
								{
									"key": "dclinkjourid",
									"value": "RiVUKTMVBgjg1ESsspdMGq8wZXde08st",
									"type": "text"
								},
								{
									"key": "wup_url",
									"value": "https://wup-karma.lloydsbank.co.uk/client/v3/web/wup?cid=karma",
									"type": "text"
								},
								{
									"key": "hasJS",
									"value": "true",
									"type": "text"
								},
								{
									"key": "frmLogin:btnLogin1",
									"value": "Continue",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "https://{{online_host}}/personal/primarylogin",
							"protocol": "https",
							"host": [
								"{{online_host}}"
							],
							"path": [
								"personal",
								"primarylogin"
							]
						}
					},
					"response": []
				},
				{
					"name": "302 /personal/login?mobile=false",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 302\", function () {",
									"    pm.response.to.have.status(302);",
									"});",
									"",
									"",
									"pm.test(\"Redirect location is correct\", function () {",
									"   pm.response.to.have.header(\"Location\");",
									"   pm.response.to.be.header(\"Location\", \"https://\"+pm.environment.get(\"host\")+\"/personal/a/logon/entermemorableinformation.jsp\");",
									"});"
								],
								"id": "29062f96-8d53-4035-aa6c-c9b48f5c8f79"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/login?mobile=false",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"login"
							],
							"query": [
								{
									"key": "mobile",
									"value": "false"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "/personal/a/logon/entermemorableinformation.jsp",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"const $ = cheerio.load(pm.response.text())\r",
									"\r",
									"\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"it should return a token\", () => { \r",
									"    pm.expect($('input[name=submitToken]').attr(\"name\")).to.not.be.empty \r",
									"    pm.environment.set('submitToken', $('input[name=submitToken]').attr(\"value\"))\r",
									"})\r",
									"\r",
									"pm.test(\"it should ask for memorableInfo\", () => {\r",
									"\r",
									"    var passWord = \"t35ting\"; \r",
									"    var passChar; \r",
									"    $(\"select\").each(function (i,elem) {\r",
									"        var num = $(\"label[for='frmentermemorableinformation1:strEnterMemorableInformation_memInfo\" + (i+1) + \"'], label[for= 'frmLogin:strEnterMI\" + (i+1) + \"'] \")\r",
									"        .text().substring(10, 11)\r",
									"        var charVal = parseInt(num); \r",
									"        passChar = passWord.substring(charVal - 1, charVal); \r",
									"        //$(this).val(\" \" + passChar);\r",
									"        console.log(passChar)\r",
									"        pm.environment.set('memorable'+(i+1), passChar)\r",
									"\r",
									"    })\r",
									"})\r",
									"\r",
									"pm.environment.set('clientSysTime', Date.now())\r",
									" "
								],
								"id": "4a7fb096-5309-4a92-9e3d-df1bb94fc52c"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/a/logon/entermemorableinformation.jsp",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"a",
								"logon",
								"entermemorableinformation.jsp"
							]
						}
					},
					"response": []
				},
				{
					"name": "/personal/pageLoad",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"id": "424c0b14-c4c5-4213-9e02-c0d5198b3c16"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/pageLoad?clientSysTime={{clientSysTime}}",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"pageLoad"
							],
							"query": [
								{
									"key": "clientSysTime",
									"value": "{{clientSysTime}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "302 /personal/a/logon/entermemorableinformation.jsp",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 302\", function () {",
									"    pm.response.to.have.status(302);",
									"});",
									""
								],
								"id": "bb3ef217-7ca2-4fa7-a709-ee0494fbffbc"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "frmentermemorableinformation1:strEnterMemorableInformation_memInfo1",
									"value": "&nbsp;{{memorable1}}",
									"type": "text"
								},
								{
									"key": "frmentermemorableinformation1:strEnterMemorableInformation_memInfo2",
									"value": "&nbsp;{{memorable2}}",
									"type": "text"
								},
								{
									"key": "frmentermemorableinformation1:strEnterMemorableInformation_memInfo3",
									"value": "&nbsp;{{memorable3}}",
									"type": "text"
								},
								{
									"key": "frmentermemorableinformation1",
									"value": "frmentermemorableinformation1",
									"type": "text"
								},
								{
									"key": "submitToken",
									"value": "{{submitToken}}",
									"type": "text"
								},
								{
									"key": "hasJS",
									"value": "true",
									"type": "text"
								},
								{
									"key": "frmentermemorableinformation1:btnContinue",
									"value": "Continue",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "https://{{host}}/personal/a/logon/entermemorableinformation.jsp",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"a",
								"logon",
								"entermemorableinformation.jsp"
							]
						}
					},
					"response": []
				},
				{
					"name": "/personal/a/account_overview_personal/",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"const $ = cheerio.load(pm.response.text())\r",
									"\r",
									"\r",
									""
								],
								"id": "9b2fb1ce-90f5-4516-8cd7-6de540687327"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/a/account_overview_personal/",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"a",
								"account_overview_personal",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Retail_Identity_Assertion",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Returns saml token\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.samlToken).to.not.be.empty;",
									"    postman.setEnvironmentVariable(\"saml_token\", jsonData.samlToken);",
									"});"
								],
								"id": "392bb7c4-e80a-4f45-ae24-2d4a11212764"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/common-api/v2/retail-identity-assertion",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"common-api",
								"v2",
								"retail-identity-assertion"
							]
						}
					},
					"response": []
				},
				{
					"name": "Initiate",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"",
									"",
									"pm.test(\"Response body has 3 fields\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(Object.keys(jsonData)).to.eql([ 'id', 'brand', 'channel' ]);",
									"});",
									"",
									"",
									"pm.test(\"Response body has valid brand\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.brand).to.eql(pm.variables.get(\"brand\"));",
									"});",
									"",
									"",
									"pm.test(\"Response body has valid channel\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.channel).to.eql(pm.variables.get(\"channel\"));",
									"});",
									""
								],
								"id": "2a738375-349a-449b-a450-653b448a1dad"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/{{base_path}}/savings-initiate-service-{{initiate}}/initiate",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"savings-initiate-service-{{initiate}}",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "SSO",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response body has 3 fields\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(Object.keys(jsonData)).to.eql([ 'logoutURL', 'keepAliveURL', 'returnURL' ]);",
									"});",
									"",
									"",
									"pm.test(\"Response body has valid logoutURL\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.logoutURL).to.include(\"/personal/link?Action=autologoff\");",
									"});",
									"",
									"pm.test(\"Response body has valid keepAliveURL\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.keepAliveURL).to.include(\"/personal/common-api/v1/keepAlive\");",
									"});",
									"",
									"pm.test(\"Response body has valid returnURL\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.returnURL).to.include(\"sso\");",
									"});",
									""
								],
								"id": "f48063e0-0636-4401-b51b-63ae347c4e12"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\"samlToken\":\"{{saml_token}}\"\t\n}"
						},
						"url": {
							"raw": "https://{{host}}/{{base_path}}/savings-sso-service-{{sso}}/authenticate",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"savings-sso-service-{{sso}}",
								"authenticate"
							]
						}
					},
					"response": []
				},
				{
					"name": "Parent",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response body has eligibility true\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.isEligible).to.be.equal(true);",
									"});",
									""
								],
								"id": "86b2d766-e555-4210-b5ab-b50f7ebdb67b"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"productId\":\"P_HAT_PCA\",\"arrangementType\":\"PCA\"}"
						},
						"url": {
							"raw": "https://{{host}}/{{base_path}}/eligibility-service-{{eligibility}}-{{eligibility}}/product/eligibility/hatch/parent",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"eligibility-service-{{eligibility}}",
								"product",
								"eligibility",
								"hatch",
								"parent"
							]
						}
					},
					"response": []
				},
				{
					"name": "RelationShip ",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "427ebdfc-6ba1-47ee-93ef-dd4eb0e978ce",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "SOAPAction",
								"value": ""
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0=",
								"disabled": true
							}
						],
						"url": {
							"raw": "https://{{host}}/{{base_path}}/party-service-{{party}}-{{party}}/adult-child/account/{{SortCode}}{{Account_Fraud}}/relationship",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"party-service-{{party}}",
								"adult-child",
								"account",
								"{{SortCode}}{{Account_Fraud}}",
								"relationship"
							]
						}
					},
					"response": []
				},
				{
					"name": "PostalAddress ",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"id": "0a36ace9-a01b-41f0-98b5-08d76b0b93bb"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "SOAPAction",
								"value": "",
								"disabled": true
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0=",
								"disabled": true
							}
						],
						"url": {
							"raw": "https://{{host}}/{{base_path}}/party-service-{{party}}-{{party}}/party/postal-address",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"party-service-{{party}}",
								"party",
								"postal-address"
							]
						}
					},
					"response": []
				},
				{
					"name": "ChildContact",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "fa1b7da5-e9e5-44c1-815e-cb217f1d161b",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "SOAPAction",
								"value": "",
								"disabled": true
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0=",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"emailAddress\":\"a@b.com\",\n\t\"countryPhoneCode\":\"+44\",\n\"mobileNumber\":\"07927803859\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{host}}/{{base_path}}/party-service-{{party}}-{{party}}/child/contacts",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"party-service-{{party}}",
								"child",
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Device",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Response body has id\", function () {",
									"    var jsonData = pm.response.json();",
									" pm.expect(Object.keys(jsonData)).to.eql([ 'id', 'org', 'server' ]);",
									"});"
								],
								"id": "4de8954e-c943-4286-865c-cca90e1903b1"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "SOAPAction",
								"value": ""
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0=",
								"disabled": true
							}
						],
						"url": {
							"raw": "https://{{host}}/{{base_path}}/eligibility-service-{{eligibility}}-{{eligibility}}/device",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"eligibility-service-{{eligibility}}",
								"device"
							]
						}
					},
					"response": []
				},
				{
					"name": "Child",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Response body has eligibility false\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.isEligible).to.be.equal(false);",
									"});"
								],
								"id": "a771073b-21ee-4d6c-b808-3c18149cdfff"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0="
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"productId\":\"P_HAT_PCA\",\"arrangementType\":\"PCA\"}"
						},
						"url": {
							"raw": "https://{{host}}/{{base_path}}/eligibility-service-{{eligibility}}-{{eligibility}}/product/eligibility/hatch/child",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"eligibility-service-{{eligibility}}",
								"product",
								"eligibility",
								"hatch",
								"child"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "CreditCheck_Accept_Decline",
			"item": [
				{
					"name": "302 /personal/logon/login.jsp",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 302\", function () {",
									"    pm.response.to.have.status(302);",
									"});",
									"",
									"pm.test(\"Redirect location is correct\", function () {",
									"   pm.response.to.have.header(\"Location\");",
									"   ",
									"   var _url = require('url')",
									"   var locationHeader = postman.getResponseHeader(\"Location\")",
									"   var url = _url.parse(locationHeader,true)",
									"   ",
									"   pm.environment.set('online_login_url',locationHeader)",
									"   pm.environment.set('online_host',url.hostname)",
									"",
									"});"
								],
								"id": "e7572b43-bd98-485d-a745-222fe3728529"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/logon/login.jsp",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"logon",
								"login.jsp"
							]
						}
					},
					"response": []
				},
				{
					"name": "online /personal/logon/login.jsp",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"const $ = cheerio.load(pm.response.text())\r",
									"\r",
									"\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"it should return a token\", () => { \r",
									"    pm.expect($('input[name=submitToken]').attr(\"value\")).to.not.be.empty\r",
									"    pm.environment.set('submitToken', $('input[name=submitToken]').attr(\"value\"))\r",
									"})\r",
									"\r",
									""
								],
								"id": "73aea4ba-a6f4-4172-a4d4-0350de442fa7"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{online_login_url}}",
							"host": [
								"{{online_login_url}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "302 /personal/primarylogin",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 302\", function () {",
									"    pm.response.to.have.status(302);",
									"});",
									"",
									"pm.test(\"Redirect location is correct\", function () {",
									"   pm.response.to.have.header(\"Location\");",
									"   ",
									"",
									"   pm.response.to.be.header(\"Location\", \"https://\"+pm.environment.get(\"host\")+\"/personal/login?mobile=false\");",
									"});"
								],
								"id": "75ccb54f-250e-480d-b133-f2d5ffe8eab5"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "frmLogin:strCustomerLogin_userID",
									"value": "{{UserID_Credit_AD}}",
									"type": "text"
								},
								{
									"key": "frmLogin:strCustomerLogin_pwd",
									"value": "{{password}}",
									"type": "text"
								},
								{
									"key": "submitToken",
									"value": "{{submitToken}}",
									"type": "text"
								},
								{
									"key": "target",
									"value": "",
									"type": "text"
								},
								{
									"key": "testenv",
									"value": "https://{{host}}/personal/login",
									"type": "text"
								},
								{
									"key": "hdn_mobile",
									"value": "",
									"type": "text"
								},
								{
									"key": "dclinkjourid",
									"value": "RiVUKTMVBgjg1ESsspdMGq8wZXde08st",
									"type": "text"
								},
								{
									"key": "wup_url",
									"value": "https://wup-karma.lloydsbank.co.uk/client/v3/web/wup?cid=karma",
									"type": "text"
								},
								{
									"key": "hasJS",
									"value": "true",
									"type": "text"
								},
								{
									"key": "frmLogin:btnLogin1",
									"value": "Continue",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "https://{{online_host}}/personal/primarylogin",
							"protocol": "https",
							"host": [
								"{{online_host}}"
							],
							"path": [
								"personal",
								"primarylogin"
							]
						}
					},
					"response": []
				},
				{
					"name": "302 /personal/login?mobile=false",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 302\", function () {",
									"    pm.response.to.have.status(302);",
									"});",
									"",
									"",
									"pm.test(\"Redirect location is correct\", function () {",
									"   pm.response.to.have.header(\"Location\");",
									"   pm.response.to.be.header(\"Location\", \"https://\"+pm.environment.get(\"host\")+\"/personal/a/logon/entermemorableinformation.jsp\");",
									"});"
								],
								"id": "c2b58df7-caf6-46bf-98b6-07f6945e1b72"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/login?mobile=false",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"login"
							],
							"query": [
								{
									"key": "mobile",
									"value": "false"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "/personal/a/logon/entermemorableinformation.jsp",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"const $ = cheerio.load(pm.response.text())\r",
									"\r",
									"\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"it should return a token\", () => { \r",
									"    pm.expect($('input[name=submitToken]').attr(\"name\")).to.not.be.empty \r",
									"    pm.environment.set('submitToken', $('input[name=submitToken]').attr(\"value\"))\r",
									"})\r",
									"\r",
									"pm.test(\"it should ask for memorableInfo\", () => {\r",
									"\r",
									"    var passWord = \"t35ting\"; \r",
									"    var passChar; \r",
									"    $(\"select\").each(function (i,elem) {\r",
									"        var num = $(\"label[for='frmentermemorableinformation1:strEnterMemorableInformation_memInfo\" + (i+1) + \"'], label[for= 'frmLogin:strEnterMI\" + (i+1) + \"'] \")\r",
									"        .text().substring(10, 11)\r",
									"        var charVal = parseInt(num); \r",
									"        passChar = passWord.substring(charVal - 1, charVal); \r",
									"        //$(this).val(\" \" + passChar);\r",
									"        console.log(passChar)\r",
									"        pm.environment.set('memorable'+(i+1), passChar)\r",
									"\r",
									"    })\r",
									"})\r",
									"\r",
									"pm.environment.set('clientSysTime', Date.now())\r",
									" "
								],
								"id": "ecef5615-d0fe-471f-b0e9-5adb7d7f9c4d"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/a/logon/entermemorableinformation.jsp",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"a",
								"logon",
								"entermemorableinformation.jsp"
							]
						}
					},
					"response": []
				},
				{
					"name": "/personal/pageLoad",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"id": "49f3df26-ecfd-4e3c-bc83-55862fc3ca22"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/pageLoad?clientSysTime={{clientSysTime}}",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"pageLoad"
							],
							"query": [
								{
									"key": "clientSysTime",
									"value": "{{clientSysTime}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "302 /personal/a/logon/entermemorableinformation.jsp",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 302\", function () {",
									"    pm.response.to.have.status(302);",
									"});",
									""
								],
								"id": "d935de35-3506-4d58-bd50-d5336f7cf936"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "frmentermemorableinformation1:strEnterMemorableInformation_memInfo1",
									"value": "&nbsp;{{memorable1}}",
									"type": "text"
								},
								{
									"key": "frmentermemorableinformation1:strEnterMemorableInformation_memInfo2",
									"value": "&nbsp;{{memorable2}}",
									"type": "text"
								},
								{
									"key": "frmentermemorableinformation1:strEnterMemorableInformation_memInfo3",
									"value": "&nbsp;{{memorable3}}",
									"type": "text"
								},
								{
									"key": "frmentermemorableinformation1",
									"value": "frmentermemorableinformation1",
									"type": "text"
								},
								{
									"key": "submitToken",
									"value": "{{submitToken}}",
									"type": "text"
								},
								{
									"key": "hasJS",
									"value": "true",
									"type": "text"
								},
								{
									"key": "frmentermemorableinformation1:btnContinue",
									"value": "Continue",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "https://{{host}}/personal/a/logon/entermemorableinformation.jsp",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"a",
								"logon",
								"entermemorableinformation.jsp"
							]
						}
					},
					"response": []
				},
				{
					"name": "/personal/a/account_overview_personal/",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"const $ = cheerio.load(pm.response.text())\r",
									"\r",
									"\r",
									""
								],
								"id": "7fc442ec-9ffc-45e9-966c-430d50e97275"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/a/account_overview_personal/",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"a",
								"account_overview_personal",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Retail_Identity_Assertion",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Returns saml token\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.samlToken).to.not.be.empty;",
									"    postman.setEnvironmentVariable(\"saml_token\", jsonData.samlToken);",
									"});"
								],
								"id": "215078aa-2661-4eac-a789-5293d0275c39"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/common-api/v2/retail-identity-assertion",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"common-api",
								"v2",
								"retail-identity-assertion"
							]
						}
					},
					"response": []
				},
				{
					"name": "Initiate",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"",
									"",
									"pm.test(\"Response body has 3 fields\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(Object.keys(jsonData)).to.eql([ 'id', 'brand', 'channel' ]);",
									"});",
									"",
									"",
									"pm.test(\"Response body has valid brand\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.brand).to.eql(pm.variables.get(\"brand\"));",
									"});",
									"",
									"",
									"pm.test(\"Response body has valid channel\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.channel).to.eql(pm.variables.get(\"channel\"));",
									"});",
									""
								],
								"id": "46df08d7-30c9-44b2-858d-8aa78c60750f"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/{{base_path}}/savings-initiate-service-{{initiate}}/initiate",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"savings-initiate-service-{{initiate}}",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "SSO",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response body has 3 fields\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(Object.keys(jsonData)).to.eql([ 'logoutURL', 'keepAliveURL', 'returnURL' ]);",
									"});",
									"",
									"",
									"pm.test(\"Response body has valid logoutURL\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.logoutURL).to.include(\"/personal/link?Action=autologoff\");",
									"});",
									"",
									"pm.test(\"Response body has valid keepAliveURL\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.keepAliveURL).to.include(\"/personal/common-api/v1/keepAlive\");",
									"});",
									"",
									"pm.test(\"Response body has valid returnURL\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.returnURL).to.include(\"sso\");",
									"});",
									""
								],
								"id": "d2ada416-996c-4c68-a039-cbd7b849e22e"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\"samlToken\":\"{{saml_token}}\"\t\n}"
						},
						"url": {
							"raw": "https://{{host}}/{{base_path}}/savings-sso-service-{{sso}}/authenticate",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"savings-sso-service-{{sso}}",
								"authenticate"
							]
						}
					},
					"response": []
				},
				{
					"name": "Parent",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response body has eligibility true\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.isEligible).to.be.equal(true);",
									"});",
									""
								],
								"id": "f74110a7-c398-415b-9433-0c7a54210fdb"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"productId\":\"P_HAT_PCA\",\"arrangementType\":\"PCA\"}"
						},
						"url": {
							"raw": "https://{{host}}/{{base_path}}/eligibility-service-{{eligibility}}-{{eligibility}}/product/eligibility/hatch/parent",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"eligibility-service-{{eligibility}}",
								"product",
								"eligibility",
								"hatch",
								"parent"
							]
						}
					},
					"response": []
				},
				{
					"name": "RelationShip ",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "4afb1a3a-e779-4028-af3e-0d082a7bfb43",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "SOAPAction",
								"value": ""
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0=",
								"disabled": true
							}
						],
						"url": {
							"raw": "https://{{host}}/{{base_path}}/party-service-{{party}}-{{party}}/adult-child/account/{{SortCode}}{{Account_Credit_AD}}/relationship",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"party-service-{{party}}",
								"adult-child",
								"account",
								"{{SortCode}}{{Account_Credit_AD}}",
								"relationship"
							]
						}
					},
					"response": []
				},
				{
					"name": "PostalAddress ",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"id": "03087f08-671e-4f1a-9c47-9668e825a469"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "SOAPAction",
								"value": "",
								"disabled": true
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0=",
								"disabled": true
							}
						],
						"url": {
							"raw": "https://{{host}}/{{base_path}}/party-service-{{party}}-{{party}}/party/postal-address",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"party-service-{{party}}",
								"party",
								"postal-address"
							]
						}
					},
					"response": []
				},
				{
					"name": "ChildContact",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b3bb9cc7-ea51-4463-8d57-7df5e2fcabd9",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "SOAPAction",
								"value": "",
								"disabled": true
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0=",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"emailAddress\":\"a@b.com\",\n\t\"countryPhoneCode\":\"+44\",\n\"mobileNumber\":\"07234567891\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{host}}/{{base_path}}/party-service-{{party}}-{{party}}/child/contacts",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"party-service-{{party}}",
								"child",
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Device",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Response body has id\", function () {",
									"    var jsonData = pm.response.json();",
									" pm.expect(Object.keys(jsonData)).to.eql([ 'id', 'org', 'server' ]);",
									"});"
								],
								"id": "90db687b-21cb-466f-84cc-bc2161c9a15a"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "SOAPAction",
								"value": ""
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0=",
								"disabled": true
							}
						],
						"url": {
							"raw": "https://{{host}}/{{base_path}}/eligibility-service-{{eligibility}}-{{eligibility}}/device",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"eligibility-service-{{eligibility}}",
								"device"
							]
						}
					},
					"response": []
				},
				{
					"name": "Child",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Response body has eligibility false\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.isEligible).to.be.equal(false);",
									"});"
								],
								"id": "bf78694a-1ec0-4c25-9ca4-c19888e58748"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0="
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"productId\":\"P_HAT_PCA\",\"arrangementType\":\"PCA\"}"
						},
						"url": {
							"raw": "https://{{host}}/{{base_path}}/eligibility-service-{{eligibility}}-{{eligibility}}/product/eligibility/hatch/child",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"eligibility-service-{{eligibility}}",
								"product",
								"eligibility",
								"hatch",
								"child"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "CreditCheck_Decline_Accept",
			"item": [
				{
					"name": "302 /personal/logon/login.jsp",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 302\", function () {",
									"    pm.response.to.have.status(302);",
									"});",
									"",
									"pm.test(\"Redirect location is correct\", function () {",
									"   pm.response.to.have.header(\"Location\");",
									"   ",
									"   var _url = require('url')",
									"   var locationHeader = postman.getResponseHeader(\"Location\")",
									"   var url = _url.parse(locationHeader,true)",
									"   ",
									"   pm.environment.set('online_login_url',locationHeader)",
									"   pm.environment.set('online_host',url.hostname)",
									"",
									"});"
								],
								"id": "62490a0f-659b-4c54-b17d-5a8a16f4fe6b"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/logon/login.jsp",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"logon",
								"login.jsp"
							]
						}
					},
					"response": []
				},
				{
					"name": "online /personal/logon/login.jsp",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"const $ = cheerio.load(pm.response.text())\r",
									"\r",
									"\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"it should return a token\", () => { \r",
									"    pm.expect($('input[name=submitToken]').attr(\"value\")).to.not.be.empty\r",
									"    pm.environment.set('submitToken', $('input[name=submitToken]').attr(\"value\"))\r",
									"})\r",
									"\r",
									""
								],
								"id": "db98a83c-1956-4b91-b24c-dbee8570c9ae"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{online_login_url}}",
							"host": [
								"{{online_login_url}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "302 /personal/primarylogin",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 302\", function () {",
									"    pm.response.to.have.status(302);",
									"});",
									"",
									"pm.test(\"Redirect location is correct\", function () {",
									"   pm.response.to.have.header(\"Location\");",
									"   ",
									"",
									"   pm.response.to.be.header(\"Location\", \"https://\"+pm.environment.get(\"host\")+\"/personal/login?mobile=false\");",
									"});"
								],
								"id": "24f2d1cf-1c22-4816-9b60-9ed5e7f4d69f"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "frmLogin:strCustomerLogin_userID",
									"value": "{{UserID_Credit_DA}}",
									"type": "text"
								},
								{
									"key": "frmLogin:strCustomerLogin_pwd",
									"value": "{{password}}",
									"type": "text"
								},
								{
									"key": "submitToken",
									"value": "{{submitToken}}",
									"type": "text"
								},
								{
									"key": "target",
									"value": "",
									"type": "text"
								},
								{
									"key": "testenv",
									"value": "https://{{host}}/personal/login",
									"type": "text"
								},
								{
									"key": "hdn_mobile",
									"value": "",
									"type": "text"
								},
								{
									"key": "dclinkjourid",
									"value": "RiVUKTMVBgjg1ESsspdMGq8wZXde08st",
									"type": "text"
								},
								{
									"key": "wup_url",
									"value": "https://wup-karma.lloydsbank.co.uk/client/v3/web/wup?cid=karma",
									"type": "text"
								},
								{
									"key": "hasJS",
									"value": "true",
									"type": "text"
								},
								{
									"key": "frmLogin:btnLogin1",
									"value": "Continue",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "https://{{online_host}}/personal/primarylogin",
							"protocol": "https",
							"host": [
								"{{online_host}}"
							],
							"path": [
								"personal",
								"primarylogin"
							]
						}
					},
					"response": []
				},
				{
					"name": "302 /personal/login?mobile=false",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 302\", function () {",
									"    pm.response.to.have.status(302);",
									"});",
									"",
									"",
									"pm.test(\"Redirect location is correct\", function () {",
									"   pm.response.to.have.header(\"Location\");",
									"   pm.response.to.be.header(\"Location\", \"https://\"+pm.environment.get(\"host\")+\"/personal/a/logon/entermemorableinformation.jsp\");",
									"});"
								],
								"id": "ba84679b-703b-4da2-9b09-7179a406625c"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/login?mobile=false",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"login"
							],
							"query": [
								{
									"key": "mobile",
									"value": "false"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "/personal/a/logon/entermemorableinformation.jsp",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"const $ = cheerio.load(pm.response.text())\r",
									"\r",
									"\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"it should return a token\", () => { \r",
									"    pm.expect($('input[name=submitToken]').attr(\"name\")).to.not.be.empty \r",
									"    pm.environment.set('submitToken', $('input[name=submitToken]').attr(\"value\"))\r",
									"})\r",
									"\r",
									"pm.test(\"it should ask for memorableInfo\", () => {\r",
									"\r",
									"    var passWord = \"t35ting\"; \r",
									"    var passChar; \r",
									"    $(\"select\").each(function (i,elem) {\r",
									"        var num = $(\"label[for='frmentermemorableinformation1:strEnterMemorableInformation_memInfo\" + (i+1) + \"'], label[for= 'frmLogin:strEnterMI\" + (i+1) + \"'] \")\r",
									"        .text().substring(10, 11)\r",
									"        var charVal = parseInt(num); \r",
									"        passChar = passWord.substring(charVal - 1, charVal); \r",
									"        //$(this).val(\" \" + passChar);\r",
									"        console.log(passChar)\r",
									"        pm.environment.set('memorable'+(i+1), passChar)\r",
									"\r",
									"    })\r",
									"})\r",
									"\r",
									"pm.environment.set('clientSysTime', Date.now())\r",
									" "
								],
								"id": "e6bb0f75-95b8-46f4-a980-6b8469972309"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/a/logon/entermemorableinformation.jsp",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"a",
								"logon",
								"entermemorableinformation.jsp"
							]
						}
					},
					"response": []
				},
				{
					"name": "/personal/pageLoad",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"id": "58b363a7-b4c2-4a2b-9061-65feb7b9349f"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/pageLoad?clientSysTime={{clientSysTime}}",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"pageLoad"
							],
							"query": [
								{
									"key": "clientSysTime",
									"value": "{{clientSysTime}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "302 /personal/a/logon/entermemorableinformation.jsp",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 302\", function () {",
									"    pm.response.to.have.status(302);",
									"});",
									""
								],
								"id": "0c9f26ad-2614-4971-9d93-fd8db4269ba1"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "frmentermemorableinformation1:strEnterMemorableInformation_memInfo1",
									"value": "&nbsp;{{memorable1}}",
									"type": "text"
								},
								{
									"key": "frmentermemorableinformation1:strEnterMemorableInformation_memInfo2",
									"value": "&nbsp;{{memorable2}}",
									"type": "text"
								},
								{
									"key": "frmentermemorableinformation1:strEnterMemorableInformation_memInfo3",
									"value": "&nbsp;{{memorable3}}",
									"type": "text"
								},
								{
									"key": "frmentermemorableinformation1",
									"value": "frmentermemorableinformation1",
									"type": "text"
								},
								{
									"key": "submitToken",
									"value": "{{submitToken}}",
									"type": "text"
								},
								{
									"key": "hasJS",
									"value": "true",
									"type": "text"
								},
								{
									"key": "frmentermemorableinformation1:btnContinue",
									"value": "Continue",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "https://{{host}}/personal/a/logon/entermemorableinformation.jsp",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"a",
								"logon",
								"entermemorableinformation.jsp"
							]
						}
					},
					"response": []
				},
				{
					"name": "/personal/a/account_overview_personal/",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"const $ = cheerio.load(pm.response.text())\r",
									"\r",
									"\r",
									""
								],
								"id": "5212348e-18b7-472d-a584-eefbcbcd312f"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/a/account_overview_personal/",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"a",
								"account_overview_personal",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Retail_Identity_Assertion",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Returns saml token\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.samlToken).to.not.be.empty;",
									"    postman.setEnvironmentVariable(\"saml_token\", jsonData.samlToken);",
									"});"
								],
								"id": "e1f555e4-c651-4a37-9657-37b278a25d6b"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/common-api/v2/retail-identity-assertion",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"common-api",
								"v2",
								"retail-identity-assertion"
							]
						}
					},
					"response": []
				},
				{
					"name": "Initiate",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"",
									"",
									"pm.test(\"Response body has 3 fields\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(Object.keys(jsonData)).to.eql([ 'id', 'brand', 'channel' ]);",
									"});",
									"",
									"",
									"pm.test(\"Response body has valid brand\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.brand).to.eql(pm.variables.get(\"brand\"));",
									"});",
									"",
									"",
									"pm.test(\"Response body has valid channel\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.channel).to.eql(pm.variables.get(\"channel\"));",
									"});",
									""
								],
								"id": "b931ab98-3e04-4117-8e7f-8c63e691e1e5"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/{{base_path}}/savings-initiate-service-{{initiate}}/initiate",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"savings-initiate-service-{{initiate}}",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "SSO",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response body has 3 fields\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(Object.keys(jsonData)).to.eql([ 'logoutURL', 'keepAliveURL', 'returnURL' ]);",
									"});",
									"",
									"",
									"pm.test(\"Response body has valid logoutURL\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.logoutURL).to.include(\"/personal/link?Action=autologoff\");",
									"});",
									"",
									"pm.test(\"Response body has valid keepAliveURL\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.keepAliveURL).to.include(\"/personal/common-api/v1/keepAlive\");",
									"});",
									"",
									"pm.test(\"Response body has valid returnURL\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.returnURL).to.include(\"sso\");",
									"});",
									""
								],
								"id": "b9719107-2da4-44d2-9540-f1c1341464c6"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\"samlToken\":\"{{saml_token}}\"\t\n}"
						},
						"url": {
							"raw": "https://{{host}}/{{base_path}}/savings-sso-service-{{sso}}/authenticate",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"savings-sso-service-{{sso}}",
								"authenticate"
							]
						}
					},
					"response": []
				},
				{
					"name": "Parent",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response body has eligibility true\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.isEligible).to.be.equal(true);",
									"});",
									""
								],
								"id": "eed2efb5-55ee-4428-aac2-cb0ffe042cec"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"productId\":\"P_HAT_PCA\",\"arrangementType\":\"PCA\"}"
						},
						"url": {
							"raw": "https://{{host}}/{{base_path}}/eligibility-service-{{eligibility}}-{{eligibility}}/product/eligibility/hatch/parent",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"eligibility-service-{{eligibility}}",
								"product",
								"eligibility",
								"hatch",
								"parent"
							]
						}
					},
					"response": []
				},
				{
					"name": "RelationShip ",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ebba34d9-63c6-4f56-b51a-ed2b9902d688",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "SOAPAction",
								"value": ""
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0=",
								"disabled": true
							}
						],
						"url": {
							"raw": "https://{{host}}/{{base_path}}/party-service-{{party}}-{{party}}/adult-child/account/{{SortCode}}{{Account_Credit_DA}}/relationship",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"party-service-{{party}}",
								"adult-child",
								"account",
								"{{SortCode}}{{Account_Credit_DA}}",
								"relationship"
							]
						}
					},
					"response": []
				},
				{
					"name": "PostalAddress ",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"id": "11fee64e-a0e1-4262-aece-61db1d63fb88"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "SOAPAction",
								"value": "",
								"disabled": true
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0=",
								"disabled": true
							}
						],
						"url": {
							"raw": "https://{{host}}/{{base_path}}/party-service-{{party}}-{{party}}/party/postal-address",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"party-service-{{party}}",
								"party",
								"postal-address"
							]
						}
					},
					"response": []
				},
				{
					"name": "ChildContact",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "c5a7a53c-2a9a-4852-8dd9-90f2e852419c",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "SOAPAction",
								"value": "",
								"disabled": true
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0=",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"emailAddress\":\"a@b.com\",\n\t\"countryPhoneCode\":\"+44\",\n\"mobileNumber\":\"07234567891\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{host}}/{{base_path}}/party-service-{{party}}-{{party}}/child/contacts",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"party-service-{{party}}",
								"child",
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Device",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Response body has id\", function () {",
									"    var jsonData = pm.response.json();",
									" pm.expect(Object.keys(jsonData)).to.eql([ 'id', 'org', 'server' ]);",
									"});"
								],
								"id": "66bc964e-c2b6-473d-8e57-af9347ad37bf"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "SOAPAction",
								"value": ""
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0=",
								"disabled": true
							}
						],
						"url": {
							"raw": "https://{{host}}/{{base_path}}/eligibility-service-{{eligibility}}-{{eligibility}}/device",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"eligibility-service-{{eligibility}}",
								"device"
							]
						}
					},
					"response": []
				},
				{
					"name": "Child",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Response body has eligibility false\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.isEligible).to.be.equal(false);",
									"});"
								],
								"id": "e15a44b4-e3a5-42bc-bd90-dc1dafb728b0"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0="
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"productId\":\"P_HAT_PCA\",\"arrangementType\":\"PCA\"}"
						},
						"url": {
							"raw": "https://{{host}}/{{base_path}}/eligibility-service-{{eligibility}}-{{eligibility}}/product/eligibility/hatch/child",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"eligibility-service-{{eligibility}}",
								"product",
								"eligibility",
								"hatch",
								"child"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "CreditCheck_Decline_Decline",
			"item": [
				{
					"name": "302 /personal/logon/login.jsp",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 302\", function () {",
									"    pm.response.to.have.status(302);",
									"});",
									"",
									"pm.test(\"Redirect location is correct\", function () {",
									"   pm.response.to.have.header(\"Location\");",
									"   ",
									"   var _url = require('url')",
									"   var locationHeader = postman.getResponseHeader(\"Location\")",
									"   var url = _url.parse(locationHeader,true)",
									"   ",
									"   pm.environment.set('online_login_url',locationHeader)",
									"   pm.environment.set('online_host',url.hostname)",
									"",
									"});"
								],
								"id": "5d580401-117e-46c2-ac5b-16d469a892ae"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/logon/login.jsp",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"logon",
								"login.jsp"
							]
						}
					},
					"response": []
				},
				{
					"name": "online /personal/logon/login.jsp",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"const $ = cheerio.load(pm.response.text())\r",
									"\r",
									"\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"it should return a token\", () => { \r",
									"    pm.expect($('input[name=submitToken]').attr(\"value\")).to.not.be.empty\r",
									"    pm.environment.set('submitToken', $('input[name=submitToken]').attr(\"value\"))\r",
									"})\r",
									"\r",
									""
								],
								"id": "987f1c31-5b68-4a3a-9749-4a2d97cf25be"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{online_login_url}}",
							"host": [
								"{{online_login_url}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "302 /personal/primarylogin",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 302\", function () {",
									"    pm.response.to.have.status(302);",
									"});",
									"",
									"pm.test(\"Redirect location is correct\", function () {",
									"   pm.response.to.have.header(\"Location\");",
									"   ",
									"",
									"   pm.response.to.be.header(\"Location\", \"https://\"+pm.environment.get(\"host\")+\"/personal/login?mobile=false\");",
									"});"
								],
								"id": "d8efa66f-a222-4c23-8b5c-347cda921fae"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "frmLogin:strCustomerLogin_userID",
									"value": "{{UserID_Credit_DD}}",
									"type": "text"
								},
								{
									"key": "frmLogin:strCustomerLogin_pwd",
									"value": "{{password}}",
									"type": "text"
								},
								{
									"key": "submitToken",
									"value": "{{submitToken}}",
									"type": "text"
								},
								{
									"key": "target",
									"value": "",
									"type": "text"
								},
								{
									"key": "testenv",
									"value": "https://{{host}}/personal/login",
									"type": "text"
								},
								{
									"key": "hdn_mobile",
									"value": "",
									"type": "text"
								},
								{
									"key": "dclinkjourid",
									"value": "RiVUKTMVBgjg1ESsspdMGq8wZXde08st",
									"type": "text"
								},
								{
									"key": "wup_url",
									"value": "https://wup-karma.lloydsbank.co.uk/client/v3/web/wup?cid=karma",
									"type": "text"
								},
								{
									"key": "hasJS",
									"value": "true",
									"type": "text"
								},
								{
									"key": "frmLogin:btnLogin1",
									"value": "Continue",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "https://{{online_host}}/personal/primarylogin",
							"protocol": "https",
							"host": [
								"{{online_host}}"
							],
							"path": [
								"personal",
								"primarylogin"
							]
						}
					},
					"response": []
				},
				{
					"name": "302 /personal/login?mobile=false",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 302\", function () {",
									"    pm.response.to.have.status(302);",
									"});",
									"",
									"",
									"pm.test(\"Redirect location is correct\", function () {",
									"   pm.response.to.have.header(\"Location\");",
									"   pm.response.to.be.header(\"Location\", \"https://\"+pm.environment.get(\"host\")+\"/personal/a/logon/entermemorableinformation.jsp\");",
									"});"
								],
								"id": "dc53e250-268d-46c9-92fb-85e597631294"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/login?mobile=false",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"login"
							],
							"query": [
								{
									"key": "mobile",
									"value": "false"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "/personal/a/logon/entermemorableinformation.jsp",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"const $ = cheerio.load(pm.response.text())\r",
									"\r",
									"\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"it should return a token\", () => { \r",
									"    pm.expect($('input[name=submitToken]').attr(\"name\")).to.not.be.empty \r",
									"    pm.environment.set('submitToken', $('input[name=submitToken]').attr(\"value\"))\r",
									"})\r",
									"\r",
									"pm.test(\"it should ask for memorableInfo\", () => {\r",
									"\r",
									"    var passWord = \"t35ting\"; \r",
									"    var passChar; \r",
									"    $(\"select\").each(function (i,elem) {\r",
									"        var num = $(\"label[for='frmentermemorableinformation1:strEnterMemorableInformation_memInfo\" + (i+1) + \"'], label[for= 'frmLogin:strEnterMI\" + (i+1) + \"'] \")\r",
									"        .text().substring(10, 11)\r",
									"        var charVal = parseInt(num); \r",
									"        passChar = passWord.substring(charVal - 1, charVal); \r",
									"        //$(this).val(\" \" + passChar);\r",
									"        console.log(passChar)\r",
									"        pm.environment.set('memorable'+(i+1), passChar)\r",
									"\r",
									"    })\r",
									"})\r",
									"\r",
									"pm.environment.set('clientSysTime', Date.now())\r",
									" "
								],
								"id": "1ecdad27-f680-4953-9476-5abd644e7602"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/a/logon/entermemorableinformation.jsp",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"a",
								"logon",
								"entermemorableinformation.jsp"
							]
						}
					},
					"response": []
				},
				{
					"name": "/personal/pageLoad",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"id": "2512b0de-0527-44ba-85e0-cf9be3c7a25a"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/pageLoad?clientSysTime={{clientSysTime}}",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"pageLoad"
							],
							"query": [
								{
									"key": "clientSysTime",
									"value": "{{clientSysTime}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "302 /personal/a/logon/entermemorableinformation.jsp",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 302\", function () {",
									"    pm.response.to.have.status(302);",
									"});",
									""
								],
								"id": "89b5696d-e293-4c9a-ab60-4abd19043b60"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "frmentermemorableinformation1:strEnterMemorableInformation_memInfo1",
									"value": "&nbsp;{{memorable1}}",
									"type": "text"
								},
								{
									"key": "frmentermemorableinformation1:strEnterMemorableInformation_memInfo2",
									"value": "&nbsp;{{memorable2}}",
									"type": "text"
								},
								{
									"key": "frmentermemorableinformation1:strEnterMemorableInformation_memInfo3",
									"value": "&nbsp;{{memorable3}}",
									"type": "text"
								},
								{
									"key": "frmentermemorableinformation1",
									"value": "frmentermemorableinformation1",
									"type": "text"
								},
								{
									"key": "submitToken",
									"value": "{{submitToken}}",
									"type": "text"
								},
								{
									"key": "hasJS",
									"value": "true",
									"type": "text"
								},
								{
									"key": "frmentermemorableinformation1:btnContinue",
									"value": "Continue",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "https://{{host}}/personal/a/logon/entermemorableinformation.jsp",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"a",
								"logon",
								"entermemorableinformation.jsp"
							]
						}
					},
					"response": []
				},
				{
					"name": "/personal/a/account_overview_personal/",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"const $ = cheerio.load(pm.response.text())\r",
									"\r",
									"\r",
									""
								],
								"id": "3b218959-0c29-42dc-864c-6e1ec5e6022e"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/a/account_overview_personal/",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"a",
								"account_overview_personal",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Retail_Identity_Assertion",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Returns saml token\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.samlToken).to.not.be.empty;",
									"    postman.setEnvironmentVariable(\"saml_token\", jsonData.samlToken);",
									"});"
								],
								"id": "eee761a6-c51b-47df-bce7-6a71ecfc128a"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/personal/common-api/v2/retail-identity-assertion",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"personal",
								"common-api",
								"v2",
								"retail-identity-assertion"
							]
						}
					},
					"response": []
				},
				{
					"name": "Initiate",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"",
									"",
									"pm.test(\"Response body has 3 fields\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(Object.keys(jsonData)).to.eql([ 'id', 'brand', 'channel' ]);",
									"});",
									"",
									"",
									"pm.test(\"Response body has valid brand\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.brand).to.eql(pm.variables.get(\"brand\"));",
									"});",
									"",
									"",
									"pm.test(\"Response body has valid channel\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.channel).to.eql(pm.variables.get(\"channel\"));",
									"});",
									""
								],
								"id": "0c9d4759-6cfe-4e11-8a65-a02fd3431f93"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/{{base_path}}/savings-initiate-service-{{initiate}}/initiate",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"savings-initiate-service-{{initiate}}",
								"initiate"
							]
						}
					},
					"response": []
				},
				{
					"name": "SSO",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response body has 3 fields\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(Object.keys(jsonData)).to.eql([ 'logoutURL', 'keepAliveURL', 'returnURL' ]);",
									"});",
									"",
									"",
									"pm.test(\"Response body has valid logoutURL\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.logoutURL).to.include(\"/personal/link?Action=autologoff\");",
									"});",
									"",
									"pm.test(\"Response body has valid keepAliveURL\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.keepAliveURL).to.include(\"/personal/common-api/v1/keepAlive\");",
									"});",
									"",
									"pm.test(\"Response body has valid returnURL\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.returnURL).to.include(\"sso\");",
									"});",
									""
								],
								"id": "ce1ef738-02ec-42f9-8e0e-a037ca7688c0"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\"samlToken\":\"{{saml_token}}\"\t\n}"
						},
						"url": {
							"raw": "https://{{host}}/{{base_path}}/savings-sso-service-{{sso}}/authenticate",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"savings-sso-service-{{sso}}",
								"authenticate"
							]
						}
					},
					"response": []
				},
				{
					"name": "Parent",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response body has eligibility true\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.isEligible).to.be.equal(true);",
									"});",
									""
								],
								"id": "5ee7013a-d67b-4246-a965-9e41a2de2b5e"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"productId\":\"P_HAT_PCA\",\"arrangementType\":\"PCA\"}"
						},
						"url": {
							"raw": "https://{{host}}/{{base_path}}/eligibility-service-{{eligibility}}-{{eligibility}}/product/eligibility/hatch/parent",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"eligibility-service-{{eligibility}}",
								"product",
								"eligibility",
								"hatch",
								"parent"
							]
						}
					},
					"response": []
				},
				{
					"name": "RelationShip ",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "1307fade-a493-47fe-a739-d5b6786d750f",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "SOAPAction",
								"value": ""
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0=",
								"disabled": true
							}
						],
						"url": {
							"raw": "https://{{host}}/{{base_path}}/party-service-{{party}}-{{party}}/adult-child/account/{{SortCode}}{{Account_Credit_DD}}/relationship",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"party-service-{{party}}",
								"adult-child",
								"account",
								"{{SortCode}}{{Account_Credit_DD}}",
								"relationship"
							]
						}
					},
					"response": []
				},
				{
					"name": "PostalAddress ",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"id": "7ea57335-116d-4b80-ac12-e302ae14178a"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "SOAPAction",
								"value": "",
								"disabled": true
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0=",
								"disabled": true
							}
						],
						"url": {
							"raw": "https://{{host}}/{{base_path}}/party-service-{{party}}-{{party}}/party/postal-address",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"party-service-{{party}}",
								"party",
								"postal-address"
							]
						}
					},
					"response": []
				},
				{
					"name": "ChildContact",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "769d5012-3151-4428-863a-a4c0052950ef",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "SOAPAction",
								"value": "",
								"disabled": true
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0=",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"emailAddress\":\"a@b.com\",\n\t\"countryPhoneCode\":\"+44\",\n\"mobileNumber\":\"07234567891\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{host}}/{{base_path}}/party-service-{{party}}-{{party}}/child/contacts",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"party-service-{{party}}",
								"child",
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Device",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Response body has id\", function () {",
									"    var jsonData = pm.response.json();",
									" pm.expect(Object.keys(jsonData)).to.eql([ 'id', 'org', 'server' ]);",
									"});"
								],
								"id": "62cfda53-31e7-4587-af4b-1ffff169e7e7"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "SOAPAction",
								"value": ""
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0=",
								"disabled": true
							}
						],
						"url": {
							"raw": "https://{{host}}/{{base_path}}/eligibility-service-{{eligibility}}-{{eligibility}}/device",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"eligibility-service-{{eligibility}}",
								"device"
							]
						}
					},
					"response": []
				},
				{
					"name": "Child",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Response body has eligibility false\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.isEligible).to.be.equal(false);",
									"});"
								],
								"id": "8159378f-430e-4552-b967-b0e984044716"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "contextdata",
								"type": "text",
								"value": "ewogICJicmFuZCI6ICJMbG95ZHMiLAogICJqb3VybmV5SWQiOiAiSUxUIiwKICAiY2hhbm5lbElkIjogIklCTCIsCiAgImludGVybmFsVXNlcklEIjogInRlc3QiCn0="
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"productId\":\"P_HAT_PCA\",\"arrangementType\":\"PCA\"}"
						},
						"url": {
							"raw": "https://{{host}}/{{base_path}}/eligibility-service-{{eligibility}}-{{eligibility}}/product/eligibility/hatch/child",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"{{base_path}}",
								"eligibility-service-{{eligibility}}",
								"product",
								"eligibility",
								"hatch",
								"child"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		}
	],
	"protocolProfileBehavior": {}
}